import{c as M,j as e,m as f,B as L,L as z,a as y,R as _e,C as F,b as Ae,d as Me,S as D,V as T,H as Ie}from"./index-DxDjdAZm.js";import{A as P,C as me,I as Oe,X as K,S as Le,M as te,R as ae}from"./input-CHc0xvdJ.js";import{P as Ee,S as se,U as H,C as W}from"./users-DHITAXSj.js";import{U as ze,D as Fe,C as Re,S as re,a as B}from"./upload-CQcd5SIf.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Pe=M("archive",De);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],qe=M("arrow-right",Ue);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ge=M("book-open",Be);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Ye=M("building-2",Ve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],We=M("check",He);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Xe=M("chevron-left",Ke);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],he=M("circle-play",Je);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Qe=M("copy",Ze);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],tt=M("ellipsis",et);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],st=M("funnel",at);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],it=M("graduation-cap",rt);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],lt=M("mouse-pointer-click",nt);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],dt=M("share-2",ot);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ie=M("user-plus",ct),ne={blue:{primary:"bg-blue-600 hover:bg-blue-700 text-white",secondary:"bg-blue-50 hover:bg-blue-100 text-blue-700 border border-blue-200",gradient:"bg-gradient-to-r from-blue-500 to-cyan-500"},purple:{primary:"bg-purple-600 hover:bg-purple-700 text-white",secondary:"bg-purple-50 hover:bg-purple-100 text-purple-700 border border-purple-200",gradient:"bg-gradient-to-r from-purple-500 to-pink-500"},pink:{primary:"bg-pink-600 hover:bg-pink-700 text-white",secondary:"bg-pink-50 hover:bg-pink-100 text-pink-700 border border-pink-200",gradient:"bg-gradient-to-r from-pink-500 to-rose-500"},green:{primary:"bg-green-600 hover:bg-green-700 text-white",secondary:"bg-green-50 hover:bg-green-100 text-green-700 border border-green-200",gradient:"bg-gradient-to-r from-green-500 to-emerald-500"},orange:{primary:"bg-orange-600 hover:bg-orange-700 text-white",secondary:"bg-orange-50 hover:bg-orange-100 text-orange-700 border border-orange-200",gradient:"bg-gradient-to-r from-orange-500 to-red-500"},indigo:{primary:"bg-indigo-600 hover:bg-indigo-700 text-white",secondary:"bg-indigo-50 hover:bg-indigo-100 text-indigo-700 border border-indigo-200",gradient:"bg-gradient-to-r from-indigo-500 to-blue-500"}},mt=({actions:a=[],themeColor:n="blue",className:p="",...x})=>{const i=ne[n]||ne.blue,h=a.filter(t=>!t.hidden);if(h.length===0)return null;const s=h.filter(t=>t.variant==="primary"||t.variant==="secondary"),r=h.filter(t=>t.variant==="icon"||t.variant==="ghost"),b=t=>{switch(t.variant){case"primary":return"default";case"secondary":return"outline";case"icon":return"ghost";case"ghost":default:return"ghost"}},g=t=>{const l="transition-all duration-200";if(t.className)return`${l} ${t.className}`;switch(t.variant){case"primary":return`${l} ${i.primary} shadow-sm hover:shadow-md`;case"secondary":return`${l} ${i.secondary} shadow-sm hover:shadow-md`;case"icon":return`${l} h-9 w-9 p-0`;case"ghost":default:return`${l} text-gray-600 hover:text-gray-900 hover:bg-gray-100`}},d=(t,l)=>{const c=t.icon,u=t.variant==="icon",v=t.loading;return e.jsx(f.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:l*.1,duration:.2},whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(L,{variant:b(t),size:t.size||(u?"icon":"sm"),onClick:t.onClick,disabled:t.disabled||v,className:g(t),title:t.tooltip||t.label,"aria-label":u?t.label:void 0,...t.ariaExpanded!==void 0&&{"aria-expanded":t.ariaExpanded},children:v?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:`w-4 h-4 animate-spin ${!u&&t.label?"mr-2":""}`}),!u&&t.label]}):e.jsxs(e.Fragment,{children:[c&&e.jsx(c,{className:`w-4 h-4 ${!u&&t.label?"mr-2":""}`}),!u&&t.label]})})},t.id||l)};return e.jsxs("div",{className:`flex items-center gap-3 ${p}`,...x,children:[s.length>0&&e.jsx("div",{className:"flex items-center gap-2",children:s.map((t,l)=>d(t,l))}),r.length>0&&e.jsx("div",{className:"flex items-center gap-1",children:r.map((t,l)=>d(t,s.length+l))})]})},le={blue:{gradient:"from-blue-500 to-cyan-500",shadow:"shadow-blue-500/25",hoverShadow:"hover:shadow-blue-500/40",activeBg:"bg-gradient-to-r from-blue-500 to-cyan-500",activeText:"text-white"},purple:{gradient:"from-purple-500 to-pink-500",shadow:"shadow-purple-500/25",hoverShadow:"hover:shadow-purple-500/40",activeBg:"bg-gradient-to-r from-purple-500 to-pink-500",activeText:"text-white"},pink:{gradient:"from-pink-500 to-rose-500",shadow:"shadow-pink-500/25",hoverShadow:"hover:shadow-pink-500/40",activeBg:"bg-gradient-to-r from-pink-500 to-rose-500",activeText:"text-white"},green:{gradient:"from-green-500 to-emerald-500",shadow:"shadow-green-500/25",hoverShadow:"hover:shadow-green-500/40",activeBg:"bg-gradient-to-r from-green-500 to-emerald-500",activeText:"text-white"},orange:{gradient:"from-orange-500 to-red-500",shadow:"shadow-orange-500/25",hoverShadow:"hover:shadow-orange-500/40",activeBg:"bg-gradient-to-r from-orange-500 to-red-500",activeText:"text-white"},indigo:{gradient:"from-indigo-500 to-blue-500",shadow:"shadow-indigo-500/25",hoverShadow:"hover:shadow-indigo-500/40",activeBg:"bg-gradient-to-r from-indigo-500 to-blue-500",activeText:"text-white"}},oe=({tabs:a=[],activeTab:n,onTabChange:p,themeColor:x="blue",mobile:i=!1,className:h="",...s})=>{var l;const r=le[x]||le.blue,b=a.filter(c=>!c.hidden);if(b.length===0)return null;const g=n||((l=b[0])==null?void 0:l.id),d=c=>{c.onClick?c.onClick():p&&p(c.id)},t=(c,u)=>{const v=c.icon,k=c.isActive!==void 0?c.isActive:g===c.id;return e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2,delay:u*.05},whileHover:{scale:1.02},whileTap:{scale:.98},className:"relative",children:e.jsxs(L,{variant:"ghost",size:"default",onClick:()=>d(c),disabled:c.disabled,className:`
            relative ${i?"h-12 px-5 py-3":"h-10 px-4 py-2"} rounded-lg border-0 
            transition-all duration-300 group overflow-hidden font-medium
            ${i?"text-base":"text-sm"}
            ${k?`${r.activeText} shadow-md ${r.shadow} transform`:"bg-white/70 backdrop-blur-sm text-gray-600 hover:bg-white/90 hover:text-gray-800 hover:shadow-sm border border-gray-200/50"}
            ${k?r.hoverShadow:"hover:shadow-gray-300/30"}
          `,title:c.description||c.label,"aria-selected":k,role:"tab",children:[e.jsx(P,{children:k&&e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`absolute inset-0 ${r.activeBg} rounded-lg`,transition:{duration:.2}})}),e.jsxs("div",{className:"relative z-10 flex items-center gap-1.5",children:[v&&e.jsx(v,{className:`${i?"h-5 w-5":"h-4 w-4"}`}),e.jsx("span",{className:`font-medium ${i?"":"inline"}`,children:c.label}),c.badge&&e.jsx("span",{className:`
                  inline-flex items-center justify-center px-1.5 py-0.5 text-xs font-bold
                  rounded-full min-w-[1.25rem] h-5
                  ${k?"bg-white/20 text-white":"bg-gray-100 text-gray-600"}
                `,children:c.badge})]})]})},c.id)};return e.jsx("div",{className:`flex items-center ${i?"w-full":""} ${h}`,role:"tablist",...s,children:e.jsx("div",{className:`
        ${i?"flex flex-wrap gap-1 w-full":"flex items-center bg-white/80 backdrop-blur-sm rounded-lg p-1 border border-gray-200/50"}
      `,children:e.jsx("div",{className:`flex items-center ${i?"flex-wrap gap-1 w-full":"gap-0.5 sm:gap-1"}`,children:b.map((c,u)=>t(c,u))})})})},ht=({leftSection:a,centerSection:n,rightSection:p,className:x="",themeColor:i="blue",...h})=>e.jsx(f.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},className:`px-6 py-3 bg-white ${x}`,role:"toolbar","aria-label":"Page actions and filters",...h,children:e.jsxs("div",{className:`flex items-center ${n?"gap-6":"gap-4"}`,children:[e.jsx("div",{className:"flex items-center gap-3 flex-shrink-0",children:a}),n&&e.jsx("div",{className:"flex items-center gap-3",children:n}),e.jsx("div",{className:"flex items-center gap-2",children:p})]})}),xt=({actions:a=[],themeColor:n="blue",className:p="",...x})=>{const i={blue:"hover:bg-blue-50 hover:text-blue-600 active:bg-blue-100",purple:"hover:bg-purple-50 hover:text-purple-600 active:bg-purple-100",pink:"hover:bg-pink-50 hover:text-pink-600 active:bg-pink-100",green:"hover:bg-green-50 hover:text-green-600 active:bg-green-100",orange:"hover:bg-orange-50 hover:text-orange-600 active:bg-orange-100",indigo:"hover:bg-indigo-50 hover:text-indigo-600 active:bg-indigo-100"},h=i[n]||i.blue;if(!a||a.length===0)return null;const s=(r,b)=>{var g;if(r.disabled||r.loading){b.preventDefault();return}(g=r.onClick)==null||g.call(r,b)};return e.jsx("div",{className:`flex items-center gap-2 ml-2 ${p}`,...x,children:a.map((r,b)=>{const g=r.icon;return g?e.jsx(f.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:b*.05,duration:.15},children:e.jsx(L,{variant:"ghost",size:"sm",onClick:d=>s(r,d),disabled:r.disabled||r.loading,className:`
                h-8 w-8 p-0 rounded-lg transition-all duration-200
                text-gray-500 ${h}
                disabled:opacity-50 disabled:cursor-not-allowed
                disabled:hover:bg-transparent disabled:hover:text-gray-500
              `,title:r.tooltip||r.label,"aria-label":r.label,children:r.loading?e.jsx(f.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5",children:e.jsx(g,{className:"w-5 h-5"})}):e.jsx(g,{className:"w-5 h-5"})})},r.label||b):(console.warn(`ActionIconGroup: Action at index ${b} is missing an icon component`),null)})})},de={blue:{primary:"bg-blue-600 hover:bg-blue-700 text-white",dropdown:"hover:bg-blue-50"},purple:{primary:"bg-purple-600 hover:bg-purple-700 text-white",dropdown:"hover:bg-purple-50"},pink:{primary:"bg-pink-600 hover:bg-pink-700 text-white",dropdown:"hover:bg-pink-50"},green:{primary:"bg-green-600 hover:bg-green-700 text-white",dropdown:"hover:bg-green-50"},orange:{primary:"bg-orange-600 hover:bg-orange-700 text-white",dropdown:"hover:bg-orange-50"},indigo:{primary:"bg-indigo-600 hover:bg-indigo-700 text-white",dropdown:"hover:bg-indigo-50"}},gt=({primaryLabel:a="New Item",onPrimaryAction:n,dropdownActions:p=[],actionIcons:x=[],themeColor:i="blue",disabled:h=!1,loading:s=!1,...r})=>{const[b,g]=y.useState(!1),d=de[i]||de.blue,t=()=>{var u;if(!(h||s))if(p.length===0)n==null||n();else{const v=p[0];(u=v==null?void 0:v.onClick)==null||u.call(v)}},l=()=>{h||s||g(!b)},c=u=>{var v;(v=u.onClick)==null||v.call(u),g(!1)};return e.jsxs("div",{className:"flex items-center",...r,children:[e.jsxs("div",{className:"relative flex items-center",children:[e.jsxs(L,{onClick:t,disabled:h||s,className:`
          ${d.primary}
          px-4 py-2 text-sm font-medium
          ${p.length>0?"rounded-r-none border-r-0":"rounded-lg"}
          transition-all duration-200
          disabled:opacity-50 disabled:cursor-not-allowed
        `,"aria-label":a,children:[e.jsx(Ee,{className:"w-4 h-4 mr-2"}),s?"Loading...":a]}),p.length>0&&e.jsx(L,{onClick:l,disabled:h||s,className:`
            ${d.primary}
            px-2 py-2 rounded-l-none border-l border-white/20
            transition-all duration-200
            disabled:opacity-50 disabled:cursor-not-allowed
          `,"aria-label":"More actions","aria-expanded":b,"aria-haspopup":"menu",children:e.jsx(f.div,{animate:{rotate:b?180:0},transition:{duration:.2},children:e.jsx(me,{className:"w-4 h-4"})})}),e.jsx(P,{children:b&&p.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>g(!1),"aria-hidden":"true"}),e.jsx(f.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15,ease:"easeOut"},className:"absolute top-full left-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-20",role:"menu","aria-orientation":"vertical",children:p.map((u,v)=>e.jsxs(f.button,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:v*.05,duration:.15},onClick:()=>c(u),className:`
                    w-full text-left px-4 py-2 text-sm text-gray-700
                    ${d.dropdown}
                    transition-colors duration-150
                    flex items-center gap-3
                    first:rounded-t-lg last:rounded-b-lg
                  `,role:"menuitem",disabled:u.disabled,children:[u.icon&&e.jsx(u.icon,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:u.disabled?"text-gray-400":"",children:u.label})]},u.label||v))})]})})]}),x&&x.length>0&&e.jsx(xt,{actions:x,themeColor:i})]})},pt=({placeholder:a="Search...",value:n,onChange:p,onSearch:x,onClear:i,autoFocus:h=!1,disabled:s=!1,className:r="",searchColumns:b,onToggleSearchColumn:g,...d})=>{const[t,l]=y.useState(!1),[c,u]=y.useState(""),v=y.useRef(null),k=n!==void 0?n:c,C=n!==void 0,R=()=>{s||l(!0)},E=()=>{k.trim()||l(!1)},N=S=>{const U=S.target.value;C||u(U),p==null||p(U)},$=()=>{var S;C?i==null||i():u(""),(S=v.current)==null||S.focus()},_=S=>{S.key==="Enter"?(S.preventDefault(),x==null||x(k)):S.key==="Escape"&&(k?$():E())},j=S=>{S.preventDefault(),x==null||x(k)};return y.useEffect(()=>{t&&h&&v.current&&v.current.focus()},[t,h]),y.useEffect(()=>{k&&!t&&l(!0)},[k,t]),e.jsx("div",{className:`flex items-center justify-center ${r}`,...d,children:e.jsx(P,{mode:"wait",children:t?e.jsxs(f.form,{initial:{opacity:0,width:32},animate:{opacity:1,width:320},exit:{opacity:0,width:32},transition:{duration:.3,ease:"easeOut"},onSubmit:j,className:"relative flex items-center",children:[e.jsx("div",{className:"absolute left-3 pointer-events-none",children:e.jsx(se,{className:"h-4 w-4 text-gray-400"})}),e.jsx(Oe,{ref:v,type:"text",value:k,onChange:N,onKeyDown:_,onBlur:E,placeholder:a,disabled:s,className:`\r
                pl-10 pr-8 h-8 text-sm\r
                border-gray-300 rounded-lg\r
                focus:border-blue-500 focus:ring-1 focus:ring-blue-500\r
                placeholder:text-gray-400\r
                transition-all duration-200\r
              `,"aria-label":"Search input"}),k&&e.jsx(f.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute right-2",children:e.jsx(L,{type:"button",variant:"ghost",size:"sm",onClick:$,className:"h-5 w-5 p-0 hover:bg-gray-100 rounded","aria-label":"Clear search",children:e.jsx(K,{className:"h-3 w-3 text-gray-400"})})})]},"expanded"):e.jsx(f.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},children:e.jsx(L,{variant:"ghost",size:"sm",onClick:R,disabled:s,className:"h-8 w-8 p-0 hover:bg-gray-100 rounded-lg transition-colors duration-200","aria-label":"Expand search",children:e.jsx(se,{className:"h-5 w-5 text-gray-500"})})},"collapsed")})})},ut=({filters:a=[],className:n="",...p})=>{const[x,i]=y.useState(null),h=r=>{i(x===r?null:r)},s=()=>{i(null)};return e.jsx("div",{className:`flex items-center gap-2 ${n}`,...p,children:a.map(r=>{const b=x===r.id||r.isActive;return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>h(r.id),disabled:r.disabled,className:`
                flex items-center gap-2 px-3 py-2 text-sm font-medium rounded-lg transition-colors border
                ${b?"bg-gray-50 text-gray-900 border-gray-400":"text-gray-700 hover:bg-gray-100 border-gray-300"}
                disabled:opacity-50 disabled:cursor-not-allowed
              `,"aria-label":r.label,"aria-expanded":x===r.id,"aria-haspopup":"dialog",children:[e.jsx(st,{className:"w-4 h-4","aria-hidden":"true"}),e.jsx("span",{children:r.label}),e.jsx(me,{className:`w-4 h-4 transition-transform ${b?"rotate-180":""}`,"aria-hidden":"true"})]}),e.jsx(P,{children:x===r.id&&r.content&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-20",onClick:s,"aria-hidden":"true"}),e.jsx(f.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15,ease:"easeOut"},className:"absolute top-full left-0 mt-2 z-30",role:"dialog","aria-labelledby":`${r.id}-title`,children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 min-w-96 w-96",children:[r.title&&e.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:e.jsx("h3",{id:`${r.id}-title`,className:"text-sm font-medium text-gray-900",children:r.title})}),e.jsx("div",{className:"p-4",children:typeof r.content=="function"?r.content({onClose:s}):r.content}),r.actions&&e.jsx("div",{className:"px-4 py-3 border-t border-gray-100 flex justify-end gap-2",children:r.actions.map((g,d)=>e.jsx(L,{variant:g.variant||"outline",size:"sm",onClick:()=>{var t;(t=g.onClick)==null||t.call(g),g.closeOnClick!==!1&&s()},disabled:g.disabled,children:g.label},d))})]})})]})})]},r.id)})})},bt={download:Fe,upload:ze,settings:Le,share:dt,copy:Qe,archive:Pe},yt=({actions:a=[],className:n="",disabled:p=!1,buttonVariant:x="ghost",...i})=>{const[h,s]=y.useState(!1),r=()=>{p||s(!h)},b=()=>{s(!1)},g=d=>{var t;d.disabled||((t=d.onClick)==null||t.call(d),d.keepMenuOpen!==!0&&b())};return a.length===0?null:e.jsxs("div",{className:`relative ${n}`,...i,children:[e.jsx(L,{variant:x,size:"sm",onClick:r,disabled:p,className:"h-8 w-8 p-0 rounded-lg hover:bg-gray-100 transition-colors duration-200","aria-label":"More actions","aria-expanded":h,"aria-haspopup":"menu",children:e.jsx(f.div,{animate:{rotate:h?90:0},transition:{duration:.2},children:e.jsx(tt,{className:"h-5 w-5 text-gray-500"})})}),e.jsx(P,{children:h&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-20",onClick:b,"aria-hidden":"true"}),e.jsx(f.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15,ease:"easeOut"},className:"absolute top-full right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-30",role:"menu","aria-orientation":"vertical",children:a.map((d,t)=>{const l=bt[d.icon]||d.iconComponent,c=d.divider&&t<a.length-1;return e.jsxs(_e.Fragment,{children:[e.jsxs(f.button,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:t*.05,duration:.15},onClick:()=>g(d),disabled:d.disabled,className:`
                        w-full text-left px-4 py-2 text-sm
                        flex items-center gap-3
                        transition-colors duration-150
                        ${d.disabled?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-50"}
                        ${d.destructive?"text-red-600 hover:bg-red-50":""}
                        first:rounded-t-lg last:rounded-b-lg
                      `,role:"menuitem",children:[l&&e.jsx(l,{className:`
                          w-4 h-4 flex-shrink-0
                          ${d.disabled?"text-gray-300":""}
                          ${d.destructive?"text-red-500":"text-gray-500"}
                        `}),e.jsx("span",{className:"flex-1",children:d.label}),d.shortcut&&e.jsx("span",{className:"text-xs text-gray-400 font-mono",children:d.shortcut}),d.badge&&e.jsx("span",{className:"ml-auto text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded",children:d.badge})]}),c&&e.jsx("div",{className:"my-1 border-t border-gray-100"})]},d.label||t)})})]})})]})},ft=(a=[])=>a.map((n,p)=>n.id?n:{id:n.key||`filter-${p}`,icon:"filter",label:n.label,title:n.label,hasActiveFilters:n.value&&n.value!=="all"&&n.value!=="",content:({onClose:x})=>{var i;return n.type==="select"?e.jsx("div",{className:"space-y-2",children:(i=n.options)==null?void 0:i.map(h=>e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:n.key,value:h.value,checked:n.value===h.value,onChange:()=>{var s;(s=n.onChange)==null||s.call(n,h.value),x()},className:"text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:h.label})]},h.value))}):e.jsx("div",{children:"Filter content"})}}),vt=({config:a,primaryAction:n,search:p,filters:x=[],overflowActions:i=[],themeColor:h="blue",showSearch:s=!0,showFilters:r=!0,showOverflow:b=!0,className:g="",...d})=>{const t=a||{primaryAction:n,search:p,filters:x,overflowActions:i,themeColor:h},{primaryAction:l,search:c,filters:u=[],overflowActions:v=[],themeColor:k=h}=t,C=ft(u);return e.jsx(ht,{themeColor:k,className:g,leftSection:l&&e.jsx(gt,{primaryLabel:l.primaryLabel,onPrimaryAction:l.onPrimaryAction,dropdownActions:l.dropdownActions,actionIcons:l.actionIcons,themeColor:k,disabled:l.disabled,loading:l.loading}),centerSection:s&&c&&e.jsx(pt,{placeholder:c.placeholder,value:c.value,onChange:c.onChange,onSearch:c.onSearch,onClear:c.onClear,autoFocus:c.autoFocus,disabled:c.disabled}),rightSection:e.jsxs("div",{className:"flex items-center gap-2",children:[r&&C.length>0&&e.jsx(ut,{filters:C}),b&&v.length>0&&e.jsx(yt,{actions:v})]}),...d})},ce={blue:{gradient:"from-blue-500 to-cyan-500",iconColor:"text-blue-600",background:"bg-blue-50",border:"border-blue-200"},purple:{gradient:"from-purple-500 to-pink-500",iconColor:"text-purple-600",background:"bg-purple-50",border:"border-purple-200"},pink:{gradient:"from-pink-500 to-rose-500",iconColor:"text-pink-600",background:"bg-pink-50",border:"border-pink-200"},green:{gradient:"from-green-500 to-emerald-500",iconColor:"text-green-600",background:"bg-green-50",border:"border-green-200"},orange:{gradient:"from-orange-500 to-red-500",iconColor:"text-orange-600",background:"bg-orange-50",border:"border-orange-200"},indigo:{gradient:"from-indigo-500 to-blue-500",iconColor:"text-indigo-600",background:"bg-indigo-50",border:"border-indigo-200"}},jt=({title:a,description:n,icon:p,themeColor:x="blue",actions:i=[],tabs:h=[],toolbar:s=null,showToolbar:r=!0,className:b="",...g})=>{const d=ce[x]||ce.blue;return e.jsxs("div",{className:b,children:[e.jsxs(f.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},className:"px-6 py-3 bg-white",role:"banner",...g,children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[p&&e.jsx(f.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1,duration:.3},className:"flex-shrink-0",children:e.jsx("div",{className:`w-8 h-8 ${d.background} rounded-lg flex items-center justify-center ${d.border} border`,children:e.jsx(p,{className:`w-5 h-5 ${d.iconColor}`,"aria-hidden":"true"})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx(f.h1,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.2,duration:.3},className:"text-2xl font-bold text-gray-900 truncate",id:"page-title",children:a}),n&&e.jsx(f.p,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.3,duration:.3},className:"text-sm text-gray-500 mt-1 truncate","aria-describedby":"page-title",children:n})]})]}),h.length>0&&e.jsx(f.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.4,duration:.3},className:"hidden md:flex flex-shrink-0",children:e.jsx(oe,{tabs:h,themeColor:x})}),e.jsx("div",{className:"flex items-center gap-3 flex-shrink-0",children:i.length>0&&e.jsx(f.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5,duration:.3},children:e.jsx(mt,{actions:i,themeColor:x})})})]}),h.length>0&&e.jsx(f.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.7,duration:.3},className:"md:hidden mt-4 pt-4",children:e.jsx(oe,{tabs:h,themeColor:x,mobile:!0})})]}),r&&s&&e.jsx(f.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.3,ease:"easeOut"},children:e.jsx(vt,{config:s,themeColor:x})})]})},xe={dashboard:{id:"dashboard",name:"Dashboard & Navigation",description:"Learn how to navigate the platform and use the dashboard",icon:"ðŸ“Š",steps:[{id:"welcome",title:"Welcome to Prelude Platform!",description:"Let's take a quick tour of the main navigation and dashboard. Follow the highlighted areas and click where indicated.",targetSelector:null,position:"center",action:'Click "Next" to begin the tour'},{id:"sidebar",title:"Navigation Sidebar",description:"This sidebar is your main navigation hub. All major features are accessible from here.",targetSelector:".sidebar-menu",position:"right",action:"Notice the different sections: Overview, Business, and Team & Calendar"},{id:"dashboard-link",title:"Dashboard - Your Command Center",description:"The Dashboard shows your key metrics, tasks, and AI agent status at a glance.",targetSelector:'[data-view="dashboard"]',position:"right",action:"Click the Dashboard menu item",requireClick:!0,clickTarget:'[data-view="dashboard"]'},{id:"ai-assistant",title:"AI Assistant",description:"Your AI Assistant is always available to help with tasks, answer questions, and schedule meetings.",targetSelector:".sidebar-menu",position:"right",action:"Look at the bottom of the sidebar for the AI Assistant status",focusBottom:!0},{id:"user-menu",title:"User Profile & Settings",description:"Access your profile, settings, and logout from the user menu at the bottom.",targetSelector:".sidebar-menu",position:"right",action:"Your user profile is at the bottom of the sidebar",focusBottom:!0}]},leads:{id:"leads",name:"Lead Generation",description:"Discover how to generate and manage leads",icon:"ðŸ‘¥",steps:[{id:"leads-intro",title:"Lead Generation Overview",description:"The Lead Generation module helps you discover new business opportunities from LinkedIn, Apollo.io, and other sources.",targetSelector:null,position:"center",action:"Let's explore the lead generation features"},{id:"leads-nav",title:"Navigate to Lead Generation",description:"Click here to access the Lead Generation module.",targetSelector:'[data-view="leads"]',position:"right",action:'Click "Lead Generation" to open the module',requireClick:!0,clickTarget:'[data-view="leads"]'},{id:"leads-features",title:"Lead Generation Features",description:`In Lead Generation, you can:
â€¢ Search LinkedIn for prospects
â€¢ Import leads from Apollo.io
â€¢ Analyze market density with Google Maps
â€¢ Organize leads in workflows
â€¢ Export lead data`,targetSelector:null,position:"center",action:"Explore the various lead generation tools available"},{id:"leads-workflow",title:"Lead Workflows",description:"Organize your leads into different workflow stages to track your prospecting process.",targetSelector:null,position:"center",action:"Use workflows to manage your lead pipeline effectively"}]},crm:{id:"crm",name:"Customer Relations (CRM)",description:"Master customer relationship management",icon:"â¤ï¸",steps:[{id:"crm-intro",title:"CRM Overview",description:"The CRM helps you manage all customer relationships, track interactions, and maintain strong connections with your clients.",targetSelector:null,position:"center",action:"Let's explore the CRM features"},{id:"crm-nav",title:"Navigate to CRM",description:"Access the Customer Relations module from the sidebar.",targetSelector:'[data-view="crm"]',position:"right",action:'Click "Customer Relations" to open the CRM',requireClick:!0,clickTarget:'[data-view="crm"]'},{id:"crm-features",title:"CRM Capabilities",description:`Key CRM features:
â€¢ View and search all customers
â€¢ Generate AI-powered email templates
â€¢ Track customer interaction history
â€¢ Analyze customer insights
â€¢ Export customer data
â€¢ Assign customers to team members`,targetSelector:null,position:"center",action:"Use these features to manage customer relationships"},{id:"crm-ai-email",title:"AI Email Generation",description:"The CRM includes AI-powered email generation to help you craft professional, personalized messages to your customers.",targetSelector:null,position:"center",action:"Try the AI email generator for quick, effective communication"}]},salesCenter:{id:"salesCenter",name:"Sales Center",description:"Learn about sales training and analytics",icon:"ðŸŽ¯",steps:[{id:"sales-intro",title:"Sales Center Overview",description:"Your Sales Center is a complete hub for sales training, CRM analytics, and performance tracking.",targetSelector:null,position:"center",action:"Let's explore the Sales Center"},{id:"sales-nav",title:"Navigate to Sales Center",description:"Access training materials and analytics from the Sales Center.",targetSelector:'[data-view="sales-center"]',position:"right",action:'Click "Sales Center" to open the module',requireClick:!0,clickTarget:'[data-view="sales-center"]'},{id:"sales-features",title:"Sales Center Features",description:`Available in Sales Center:
â€¢ Sales training materials
â€¢ Performance analytics
â€¢ CRM metrics and insights
â€¢ Sales process optimization
â€¢ Team performance tracking`,targetSelector:null,position:"center",action:"Use these tools to improve your sales process"},{id:"sales-training",title:"Sales Training",description:"Access comprehensive training materials to improve your sales skills and techniques.",targetSelector:null,position:"center",action:"Review training content regularly to enhance your skills"}]},onboarding:{id:"onboarding",name:"User Onboarding",description:"Setup your team and understand the onboarding process",icon:"ðŸŽ“",steps:[{id:"onboarding-intro",title:"User Onboarding Overview",description:"The User Onboarding section helps you manage your team and track system setup progress.",targetSelector:null,position:"center",action:"Let's explore the onboarding features"},{id:"onboarding-nav",title:"Navigate to User Onboarding",description:"Access team management and personal onboarding from here.",targetSelector:'[data-view="user-onboarding"]',position:"right",action:'Click "User Onboarding" to open the module',requireClick:!0,clickTarget:'[data-view="user-onboarding"]'},{id:"onboarding-tabs",title:"Two Main Sections",description:`User Onboarding has two tabs:
â€¢ Team Organization: Invite and manage team members
â€¢ Personal Onboarding: Track database setup and system status`,targetSelector:null,position:"center",action:"Switch between tabs to access different features"},{id:"team-org",title:"Team Organization",description:`In Team Organization, you can:
â€¢ View your account information
â€¢ Invite new team members
â€¢ Assign roles (Admin, Manager, User, Viewer)
â€¢ Set access levels (1-10)
â€¢ View all team members`,targetSelector:null,position:"center",action:"Use this to build and manage your team"},{id:"personal-onboarding",title:"Personal Onboarding",description:`The Personal Onboarding tab shows:
â€¢ Database setup progress
â€¢ Table checklist
â€¢ Completion percentage
â€¢ System initialization status`,targetSelector:null,position:"center",action:"Monitor your system setup progress here"}]}},wt=({isOpen:a,onClose:n,tutorialType:p="dashboard",onNavigate:x})=>{const[i,h]=y.useState(0),[s,r]=y.useState(null),[b,g]=y.useState(!1),d=y.useRef(null),t=xe[p],l=t==null?void 0:t.steps[i],c=(t==null?void 0:t.steps.length)||0,u=Math.round((i+1)/c*100);y.useEffect(()=>{if(!a||!l)return;const N=()=>{if(l.targetSelector){const $=document.querySelector(l.targetSelector);if($){const _=$.getBoundingClientRect(),j=16;r({top:_.top-j,left:_.left-j,width:_.width+j*2,height:_.height+j*2,originalRect:_})}else r(null)}else r(null)};return N(),window.addEventListener("scroll",N,!0),window.addEventListener("resize",N),()=>{window.removeEventListener("scroll",N,!0),window.removeEventListener("resize",N)}},[a,l,i]),y.useEffect(()=>{if(!a||!(l!=null&&l.requireClick))return;const N=$=>{$.target.closest(l.clickTarget)&&($.preventDefault(),$.stopPropagation(),setTimeout(()=>{v()},300))};return document.addEventListener("click",N,!0),()=>{document.removeEventListener("click",N,!0)}},[a,l,i]);const v=()=>{i<c-1?(g(!0),setTimeout(()=>{h(N=>N+1),g(!1)},200)):R()},k=()=>{i>0&&(g(!0),setTimeout(()=>{h(N=>N-1),g(!1)},200))},C=()=>{window.confirm(`Skip the ${t.name} tutorial? You can restart it anytime.`)&&(n(),h(0))},R=()=>{n(),h(0)},E=()=>{if(!s)return{top:"50%",left:"50%",transform:"translate(-50%, -50%)"};const N=window.innerWidth,$=window.innerHeight,_=400,j=24;let S={};switch(l.position){case"right":s.left+s.width+_+j<N?S={top:s.top+s.height/2,left:s.left+s.width+j,transform:"translateY(-50%)"}:S={top:s.top+s.height+j,left:Math.max(j,Math.min(N-_-j,s.left))};break;case"left":s.left-_-j>0?S={top:s.top+s.height/2,left:s.left-_-j,transform:"translateY(-50%)"}:S={top:s.top+s.height+j,left:Math.max(j,Math.min(N-_-j,s.left))};break;case"bottom":S={top:s.top+s.height+j,left:Math.max(j,Math.min(N-_-j,s.left))};break;case"top":S={bottom:$-s.top+j,left:Math.max(j,Math.min(N-_-j,s.left))};break;default:S={top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}return S};return!a||!t?null:e.jsx(P,{children:a&&e.jsxs(e.Fragment,{children:[e.jsxs(f.div,{ref:d,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] pointer-events-none",style:{isolation:"isolate"},children:[e.jsxs("svg",{className:"absolute inset-0 w-full h-full",style:{pointerEvents:"none"},children:[e.jsx("defs",{children:e.jsxs("mask",{id:"spotlight-mask",children:[e.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),s&&e.jsx("rect",{x:s.left,y:s.top,width:s.width,height:s.height,rx:"12",fill:"black"})]})}),e.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"rgba(0, 0, 0, 0.75)",mask:"url(#spotlight-mask)"})]}),s&&e.jsx(f.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:"absolute border-4 border-teal-400 rounded-xl shadow-2xl",style:{top:s.top,left:s.left,width:s.width,height:s.height,boxShadow:"0 0 0 4px rgba(20, 184, 166, 0.3), 0 0 40px rgba(20, 184, 166, 0.5)",pointerEvents:l.requireClick?"none":"auto"}}),s&&l.requireClick&&e.jsx(f.div,{initial:{opacity:0,x:-10},animate:{opacity:[.5,1,.5],x:[-10,0,-10]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"absolute",style:{top:s.top+s.height/2-12,left:s.left-40,pointerEvents:"none"},children:e.jsx(qe,{className:"h-6 w-6 text-teal-400"})})]}),e.jsxs(f.div,{initial:{opacity:0,scale:.9},animate:{opacity:b?0:1,scale:b?.9:1},exit:{opacity:0,scale:.9},transition:{duration:.2},className:"fixed z-[201] w-full max-w-md bg-white rounded-2xl shadow-2xl pointer-events-auto",style:E(),children:[e.jsxs("div",{className:"relative p-5 bg-gradient-to-r from-teal-500 to-cyan-500 rounded-t-2xl",children:[e.jsx("button",{onClick:C,className:"absolute top-3 right-3 p-1.5 text-white hover:bg-white/20 rounded-lg transition-colors",title:"Skip Tutorial",children:e.jsx(K,{className:"h-4 w-4"})}),e.jsxs("div",{className:"pr-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-2xl",children:t.icon}),e.jsxs("span",{className:"text-xs font-medium text-white/90 uppercase tracking-wider",children:[t.name," â€¢ Step ",i+1,"/",c]})]}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:l.title}),e.jsx("div",{className:"w-full h-1.5 bg-white/20 rounded-full overflow-hidden",children:e.jsx(f.div,{initial:{width:0},animate:{width:`${u}%`},className:"h-full bg-white rounded-full",transition:{duration:.3}})})]})]}),e.jsxs("div",{className:"p-5 space-y-4",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:l.description}),l.action&&e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gradient-to-r from-teal-50 to-cyan-50 border border-teal-200 rounded-xl",children:[e.jsx(lt,{className:"h-5 w-5 text-teal-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-teal-900 mb-1",children:l.requireClick?"Click to Continue":"Next Step"}),e.jsx("p",{className:"text-sm text-teal-700",children:l.action})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-5 border-t border-gray-200 bg-gray-50 rounded-b-2xl",children:[e.jsxs("button",{onClick:k,disabled:i===0,className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent",children:[e.jsx(Xe,{className:"h-4 w-4"}),"Previous"]}),e.jsx("div",{className:"flex items-center gap-1",children:t.steps.map((N,$)=>e.jsx("div",{className:`h-1.5 rounded-full transition-all ${$===i?"w-6 bg-teal-500":$<i?"w-1.5 bg-teal-300":"w-1.5 bg-gray-300"}`},$))}),!l.requireClick&&(i<c-1?e.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-5 py-2 bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white font-medium rounded-lg transition-all shadow-md hover:shadow-lg",children:["Next",e.jsx(Re,{className:"h-4 w-4"})]}):e.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-5 py-2 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white font-medium rounded-lg transition-all shadow-md hover:shadow-lg",children:[e.jsx(We,{className:"h-4 w-4"}),"Finish"]}))]})]})]})})},Nt=({isOpen:a,onClose:n,onSelectTutorial:p})=>{if(!a)return null;const x=Object.values(xe);return e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[150] flex items-center justify-center p-6",onClick:n,children:e.jsxs(f.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:20},className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[80vh] overflow-hidden",onClick:i=>i.stopPropagation(),children:[e.jsxs("div",{className:"relative p-6 bg-gradient-to-r from-teal-500 to-cyan-500",children:[e.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-2 text-white hover:bg-white/20 rounded-lg transition-colors",children:e.jsx(K,{className:"h-5 w-5"})}),e.jsxs("div",{className:"pr-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Choose Your Tutorial"}),e.jsx("p",{className:"text-white/90 text-sm",children:"Select a tutorial to learn about specific features of the platform. Each tutorial is interactive and guides you step-by-step."})]})]}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(80vh-140px)]",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.map(i=>e.jsxs(f.button,{onClick:()=>{p(i.id),n()},whileHover:{scale:1.02},whileTap:{scale:.98},className:"group relative overflow-hidden bg-white border-2 border-gray-200 hover:border-teal-400 rounded-xl p-5 text-left transition-all hover:shadow-lg",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-teal-50 to-cyan-50 opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-4xl",children:i.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-teal-600 transition-colors",children:i.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[i.steps.length," steps"]})]})]}),e.jsx(he,{className:"h-6 w-6 text-gray-400 group-hover:text-teal-500 transition-colors flex-shrink-0"})]}),e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:i.description}),e.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-teal-100 text-teal-700 text-xs font-medium rounded-full",children:[e.jsx(F,{className:"h-3 w-3"}),"Interactive"]}),e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-full",children:[e.jsx(F,{className:"h-3 w-3"}),"Spotlight Guide"]})]})]})]},i.id))}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:e.jsxs("p",{className:"text-sm text-blue-900",children:[e.jsx("strong",{children:"Tip:"})," Each tutorial uses an interactive spotlight to guide you through specific features. The screen will darken except for the area you need to focus on. Follow the instructions and click where indicated to progress."]})})]}),e.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"You can exit any tutorial at any time by clicking the X button."}),e.jsx("button",{onClick:n,className:"px-5 py-2 text-gray-700 hover:bg-gray-200 rounded-lg transition-colors font-medium",children:"Close"})]})})]})})},kt=()=>{const{user:a}=Ae();Me();const[n,p]=y.useState("team-organization"),[x,i]=y.useState(!1),[h,s]=y.useState(!1),[r,b]=y.useState([]),[g,d]=y.useState(!1),[t,l]=y.useState({email:"",role:"viewer",level:1}),[c,u]=y.useState(!1),[v,k]=y.useState(!1),[C,R]=y.useState(null),[E,N]=y.useState(null),[$,_]=y.useState(null),[j,S]=y.useState(!1),[U,X]=y.useState(!1),[ge,J]=y.useState(!1),[pe,ue]=y.useState("dashboard"),Z=[{value:"admin",label:"Admin",description:"Full system access",minLevel:7},{value:"manager",label:"Manager",description:"Team and data management",minLevel:5},{value:"user",label:"User",description:"Standard access",minLevel:3},{value:"viewer",label:"Viewer",description:"Read-only access",minLevel:1}],be=Array.from({length:10},(o,m)=>m+1),Q=y.useMemo(()=>[{id:"team-organization",label:"Team Organization",icon:H},{id:"personal-onboarding",label:"Personal Onboarding",icon:it}],[]);y.useEffect(()=>{G()},[a]),y.useEffect(()=>{n==="personal-onboarding"&&r.length>0&&q()},[n,r]);const G=async()=>{if(a!=null&&a.email){i(!0),d(!1);try{const m=(await D.getUserInvitations(a.email)).invitations||[];m&&m.length>0?(b(m),d(!1)):(b([]),d(!0))}catch(o){console.error("Error fetching invitations:",o),d(!0),T.error("Failed to fetch invitation data")}finally{i(!1)}}},q=async()=>{k(!0);try{const o=r.find(I=>I.email===(a==null?void 0:a.email))||{},m={userEmail:a==null?void 0:a.email,databaseName:o.database_name};console.log("Fetching table checklist with options:",m);const[w,A]=await Promise.all([D.getTableChecklist(m),D.getDatabaseStatus(m)]);R(w),N(A)}catch(o){console.error("Error fetching table checklist:",o),T.error("Failed to load database table checklist")}finally{k(!1)}},ye=async()=>{s(!0),await G(),s(!1),T.success("Invitations refreshed")},V=o=>{const{name:m,value:w}=o.target;l(A=>({...A,[m]:m==="level"?parseInt(w):w}))},fe=o=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o),ve=async o=>{if(o.preventDefault(),!fe(t.email)){T.error("Please enter a valid email address");return}if(t.email===(a==null?void 0:a.email)){T.error("You cannot invite yourself");return}if(r.find(w=>w.email===t.email)){T.error("This email has already been invited");return}u(!0);try{const w=r.find(Y=>Y.email===(a==null?void 0:a.email))||{},A={email:t.email,company:w.company||(a==null?void 0:a.company)||"prelude",role:t.role,database_name:w.database_name||"postgres",level:t.level},I=await D.createInvitation(A);I.success?(T.success(`Successfully invited ${t.email}`),l({email:"",role:"viewer",level:1}),await G()):T.error(I.message||"Failed to create invitation")}catch(w){console.error("Error creating invitation:",w),T.error(w.message||"Failed to send invitation")}finally{u(!1)}},O=r.find(o=>o.email===(a==null?void 0:a.email))||{},je=()=>{X(!0)},we=o=>{ue(o),J(!0),T.success(`${o} tutorial started! Follow the spotlight to continue.`)},Ne=o=>{console.log(`Tutorial requesting navigation to: ${o}`)},ke=async o=>{if(!o||$)return;_(o);const m=T.loading(`Creating table: ${o}...`);try{const w=r.find(Y=>Y.email===(a==null?void 0:a.email))||{},A={tableName:o,userEmail:a==null?void 0:a.email,databaseName:w.database_name};console.log("Creating table with options:",A);const I=await D.createTable(A);I.success?(T.success(`Successfully created table: ${o}`,{id:m}),await q()):T.error(I.message||`Failed to create table: ${o}`,{id:m})}catch(w){console.error("Error creating table:",w),T.error(w.message||`Failed to create table: ${o}`,{id:m})}finally{_(null)}},Ce=async()=>{if(j)return;S(!0);const o=T.loading("Creating all missing tables...");try{const m=r.find(I=>I.email===(a==null?void 0:a.email))||{},w={userEmail:a==null?void 0:a.email,databaseName:m.database_name};console.log("Creating all tables with options:",w);const A=await D.createAllTables(w);A.success?(T.success(`Successfully created ${A.created_tables.length} table${A.created_tables.length!==1?"s":""}!`,{id:o,duration:4e3}),A.created_tables.length>0&&console.log("Created tables:",A.created_tables),Object.keys(A.failed_tables||{}).length>0&&(T.error(`Warning: ${Object.keys(A.failed_tables).length} table${Object.keys(A.failed_tables).length!==1?"s":""} could not be created`,{duration:4e3}),console.error("Failed tables:",A.failed_tables))):T.error(A.message||"Failed to create tables",{id:o}),T.loading("Refreshing table checklist...",{id:"refresh-toast"}),await new Promise(I=>setTimeout(I,500)),await q(),T.success("Table checklist updated!",{id:"refresh-toast",duration:2e3})}catch(m){console.error("Error creating all tables:",m),T.error(m.message||"Failed to create tables",{id:o});try{await q()}catch(w){console.error("Error refreshing checklist:",w)}}finally{S(!1)}},ee=()=>{var o;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{className:"h-5 w-5 text-teal-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Account Information"})]})}),e.jsx("div",{className:"px-6 py-5",children:x?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(z,{className:"h-6 w-6 animate-spin text-gray-400"})}):g?e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx(W,{className:"h-5 w-5 text-yellow-600 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Your account information was not found in the database."}),e.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Please contact your administrator to be added to the system."})]})]}):O.email?e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Email"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{className:"h-4 w-4 text-gray-400"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:O.email})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Company"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-4 w-4 text-gray-400"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:O.company})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Role"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{className:"h-4 w-4 text-gray-400"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:O.role})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Access Level"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-4 w-4 text-gray-400"}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Level ",O.level]})]})]})]}):e.jsx("p",{className:"text-gray-500 text-sm",children:"Loading your account information..."})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-5 w-5 text-teal-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Invite New Team Member"})]})}),e.jsx("div",{className:"px-6 py-5",children:e.jsxs("form",{onSubmit:ve,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),e.jsx("input",{id:"email",name:"email",type:"email",placeholder:"colleague@company.com",value:t.email,onChange:V,required:!0,disabled:c||g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 disabled:bg-gray-100 disabled:cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),e.jsx("select",{id:"role",name:"role",value:t.role,onChange:V,disabled:c||g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:Z.map(m=>e.jsx("option",{value:m.value,children:m.label},m.value))}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(o=Z.find(m=>m.value===t.role))==null?void 0:o.description})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"level",className:"block text-sm font-medium text-gray-700 mb-1",children:"Access Level (1-10) *"}),e.jsx("select",{id:"level",name:"level",value:t.level,onChange:V,disabled:c||g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:be.map(m=>e.jsxs("option",{value:m,children:["Level ",m]},m))}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Higher levels have more permissions"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["The new member will join ",e.jsx("strong",{className:"text-gray-900",children:O.company||"your company"})," with access to ",e.jsx("strong",{className:"text-gray-900",children:O.database_name||"the database"})]}),e.jsx("button",{type:"submit",disabled:c||g,className:"inline-flex items-center justify-center px-4 py-2 bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white text-sm font-medium rounded-lg transition-all duration-200 shadow-sm hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:c?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"h-4 w-4 mr-2 animate-spin"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),"Invite Member"]})})]}),g&&e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(W,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-red-800",children:"You must be registered in the system to send invitations."})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5 text-teal-600"}),e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Team Members (",r.length,")"]})]}),e.jsxs("button",{onClick:ye,disabled:h,className:"inline-flex items-center gap-2 px-3 py-1.5 text-sm text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(ae,{className:`h-4 w-4 ${h?"animate-spin":""}`}),"Refresh"]})]})}),e.jsx("div",{className:"px-6 py-5",children:x?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(z,{className:"h-6 w-6 animate-spin text-gray-400"})}):r.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"pb-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"pb-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),e.jsx("th",{className:"pb-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"pb-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),e.jsx("th",{className:"pb-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Database"}),e.jsx("th",{className:"pb-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:r.map((m,w)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-900",children:m.email}),m.email===(a==null?void 0:a.email)&&e.jsx("span",{className:"text-xs bg-teal-100 text-teal-700 px-2 py-0.5 rounded font-medium",children:"You"})]})}),e.jsx("td",{className:"py-3 text-sm text-gray-700",children:m.company}),e.jsx("td",{className:"py-3",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${m.role==="admin"?"bg-purple-100 text-purple-700":m.role==="manager"?"bg-blue-100 text-blue-700":m.role==="user"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:m.role})}),e.jsx("td",{className:"py-3 text-sm font-medium text-gray-900",children:m.level}),e.jsx("td",{className:"py-3 text-sm text-gray-700",children:m.database_name}),e.jsx("td",{className:"py-3 text-sm text-gray-500",children:m.created_at?new Date(m.created_at).toLocaleDateString():"N/A"})]},m.id||w))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(H,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"No team members found"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Start by inviting your first team member above"})]})})]})]})},Se=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-cyan-500 rounded-lg shadow-md overflow-hidden",children:e.jsx("div",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[e.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-xl",children:e.jsx(Ge,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"New to Prelude Platform?"}),e.jsx("p",{className:"text-white/90 text-sm mb-3",children:"Take interactive tutorials to learn specific features! Choose from Dashboard & Navigation, Lead Generation, CRM, Sales Center, or User Onboarding tutorials."}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-white/80",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(F,{className:"h-3 w-3"}),"5 tutorial modules"]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(F,{className:"h-3 w-3"}),"Spotlight guidance"]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(F,{className:"h-3 w-3"}),"Interactive learning"]})]})]})]}),e.jsxs("button",{onClick:je,className:"inline-flex items-center gap-2 px-6 py-3 bg-white hover:bg-gray-50 text-teal-600 font-semibold rounded-xl transition-all shadow-lg hover:shadow-xl hover:scale-105 flex-shrink-0",children:[e.jsx(he,{className:"h-5 w-5"}),"Choose Tutorial"]})]})})}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5 text-teal-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Database Setup Progress"}),E&&e.jsxs("p",{className:"text-sm text-gray-600",children:["Connected to: ",e.jsx("code",{className:"bg-gray-100 px-2 py-0.5 rounded text-xs font-mono",children:E.database_name}),O.database_name&&O.database_name!==E.database_name&&e.jsxs("span",{className:"ml-2 text-yellow-600",children:["(Expected: ",O.database_name,")"]})]})]})]}),e.jsxs("button",{onClick:q,disabled:v,className:"inline-flex items-center gap-2 px-3 py-1.5 text-sm text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(ae,{className:`h-4 w-4 ${v?"animate-spin":""}`}),"Refresh"]})]})}),e.jsx("div",{className:"px-6 py-5",children:v?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(z,{className:"h-6 w-6 animate-spin text-gray-400"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading table checklist..."})]}):C?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 bg-gradient-to-br from-teal-50 to-cyan-50 rounded-lg border border-teal-100",children:[e.jsx("p",{className:"text-xs font-medium text-teal-600 mb-1",children:"Total Tables"}),e.jsx("p",{className:"text-2xl font-bold text-teal-900",children:C.total_tables})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg border border-green-100",children:[e.jsx("p",{className:"text-xs font-medium text-green-600 mb-1",children:"Existing Tables"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:C.existing_tables})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-br from-red-50 to-rose-50 rounded-lg border border-red-100",children:[e.jsx("p",{className:"text-xs font-medium text-red-600 mb-1",children:"Missing Tables"}),e.jsx("p",{className:"text-2xl font-bold text-red-900",children:C.missing_tables})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-100",children:[e.jsx("p",{className:"text-xs font-medium text-blue-600 mb-1",children:"Completion"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[C.completion_percentage,"%"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Database Initialization"}),e.jsxs("span",{className:"text-gray-600",children:[C.existing_tables," of ",C.total_tables," tables"]})]}),e.jsx("div",{className:"w-full h-3 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-teal-500 to-cyan-500 transition-all duration-500",style:{width:`${C.completion_percentage}%`}})})]}),C.missing_tables>0&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("button",{onClick:Ce,disabled:j||$,className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-semibold rounded-lg transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:j?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"h-5 w-5 animate-spin"}),"Creating All Tables..."]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"h-5 w-5"}),"Create All Missing Tables (",C.missing_tables,")"]})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Table Status Checklist"}),e.jsx("div",{className:"max-h-[500px] overflow-y-auto border border-gray-200 rounded-lg",children:e.jsx("div",{className:"divide-y divide-gray-100",children:C.checklist.map((o,m)=>e.jsx("div",{className:`px-4 py-3 hover:bg-gray-50 transition-colors ${o.exists?"bg-white":"bg-red-50/30"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:o.exists?e.jsx(F,{className:"h-5 w-5 text-green-600"}):e.jsx(Ie,{className:"h-5 w-5 text-red-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:`text-sm font-mono font-medium ${o.exists?"text-gray-900":"text-red-900"}`,children:o.table_name}),o.exists?e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-700",children:"Ready"}):e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-700",children:"Missing"})]}),e.jsx("p",{className:`text-xs mt-1 ${o.exists?"text-gray-600":"text-red-600"}`,children:o.description})]}),!o.exists&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("button",{onClick:()=>ke(o.table_name),disabled:$===o.table_name,className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-teal-600 hover:bg-teal-700 text-white text-xs font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:$===o.table_name?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"h-3 w-3 animate-spin"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"h-3 w-3"}),"Create Table"]})})})]})},o.table_name))})})]}),C.completion_percentage===100?e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx(F,{className:"h-5 w-5 text-green-600 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-900",children:"Database Setup Complete!"}),e.jsx("p",{className:"text-xs text-green-700 mt-1",children:"All required tables have been initialized successfully."})]})]}):e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx(W,{className:"h-5 w-5 text-yellow-600 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Database Setup In Progress"}),e.jsxs("p",{className:"text-xs text-yellow-700 mt-1",children:[C.missing_tables," table",C.missing_tables!==1?"s":""," still need to be created. Please contact your administrator if this persists."]})]})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(B,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"No checklist data available"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Click refresh to load the database status"})]})})]})]}),Te=()=>{switch(n){case"team-organization":return ee();case"personal-onboarding":return Se();default:return ee()}},$e=y.useMemo(()=>Q.map(o=>({id:o.id,label:o.label,icon:o.icon,isActive:n===o.id,onClick:()=>p(o.id)})),[n,Q]);return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx(jt,{title:"User Onboarding",themeColor:"teal",tabs:$e}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx("div",{className:"h-full p-6 overflow-y-auto bg-gray-50",children:e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:Te()})})}),e.jsx(Nt,{isOpen:U,onClose:()=>X(!1),onSelectTutorial:we}),e.jsx(wt,{isOpen:ge,onClose:()=>J(!1),tutorialType:pe,onNavigate:Ne})]})},_t=Object.freeze(Object.defineProperty({__proto__:null,default:kt},Symbol.toStringTag,{value:"Module"}));export{qe as A,Ye as B,We as C,tt as E,st as F,ie as U,Qe as a,jt as b,vt as c,Xe as d,kt as e,_t as f};
