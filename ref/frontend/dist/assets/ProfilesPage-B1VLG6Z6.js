import{a,j as e,B as N,L as Gs,b as rt,d as nt,m as ls}from"./index-DxDjdAZm.js";import{M as rs,R as me,I as U,X as Js,C as it}from"./input-CHc0xvdJ.js";import{U as ne,a as Ge,N as ct,b as ot,A as dt}from"./AnimatedBackground-D5BGCIvK.js";import{P as ge,d as Rs,B as Ce,M as $s,C as _s,S as X,A as De,F as Je,e as G,E as ve,c as mt,D as qs,T as ke,b as he,G as xt,a as ut}from"./GoalSettingSection-BMwg2o7Z.js";import{U as Us,P as Ne,C as qe,S as gt}from"./users-DHITAXSj.js";const ht=({employee:t,setEmployee:o})=>{var xs,us,gs,hs,ps,fs,js,vs,Ns,bs,ys,ws,Ss,Cs,ks,Es,Ps,As,Ts,Ms,Is,Fs,Bs,Ls,zs;const[E,b]=a.useState(!1),[y,O]=a.useState(!1),[j,F]=a.useState(!1),[w,S]=a.useState(!1),[M,h]=a.useState(!1),[C,A]=a.useState(!1),[n,D]=a.useState(null),[R,k]=a.useState(null),[J,T]=a.useState(null),[L,P]=a.useState(null),[ae,K]=a.useState(null),[Y,z]=a.useState(null),[Q,Z]=a.useState(!1),[ie,q]=a.useState(!1),[ee,le]=a.useState(!1),[re,V]=a.useState(!1),[se,x]=a.useState(!1),[u,l]=a.useState(!1),[m,v]=a.useState(null),[B,$]=a.useState(null),[W,d]=a.useState(null),[p,I]=a.useState(null),[_,H]=a.useState(null),[Ee,Pe]=a.useState(null),[Ye,Ae]=a.useState(!1),[Oe,Te]=a.useState(!1),[Qe,Me]=a.useState(!1),[We,Ie]=a.useState(!1),[Ke,Fe]=a.useState(!1),[Ve,Be]=a.useState(!1),[Le,ze]=a.useState([]),[Re,is]=a.useState(""),[He,cs]=a.useState(""),[Xe,Ds]=a.useState("technical"),[ce,$e]=a.useState({name:"",level:"Beginner",percentage:50}),[te,be]=a.useState({company:"",role:"",period:"",description:""});if(a.useEffect(()=>{if(Ye){const s=setTimeout(()=>Ae(!1),3e3);return()=>clearTimeout(s)}},[Ye]),a.useEffect(()=>{if(Oe){const s=setTimeout(()=>Te(!1),3e3);return()=>clearTimeout(s)}},[Oe]),a.useEffect(()=>{if(Qe){const s=setTimeout(()=>Me(!1),3e3);return()=>clearTimeout(s)}},[Qe]),a.useEffect(()=>{if(We){const s=setTimeout(()=>Ie(!1),3e3);return()=>clearTimeout(s)}},[We]),a.useEffect(()=>{if(Ke){const s=setTimeout(()=>Fe(!1),3e3);return()=>clearTimeout(s)}},[Ke]),a.useEffect(()=>{if(Ve){const s=setTimeout(()=>Be(!1),3e3);return()=>clearTimeout(s)}},[Ve]),a.useEffect(()=>{if(m){const s=setTimeout(()=>v(null),5e3);return()=>clearTimeout(s)}},[m]),a.useEffect(()=>{if(B){const s=setTimeout(()=>$(null),5e3);return()=>clearTimeout(s)}},[B]),a.useEffect(()=>{if(W){const s=setTimeout(()=>d(null),5e3);return()=>clearTimeout(s)}},[W]),a.useEffect(()=>{if(p){const s=setTimeout(()=>I(null),5e3);return()=>clearTimeout(s)}},[p]),a.useEffect(()=>{if(_){const s=setTimeout(()=>H(null),5e3);return()=>clearTimeout(s)}},[_]),a.useEffect(()=>{if(Ee){const s=setTimeout(()=>Pe(null),5e3);return()=>clearTimeout(s)}},[Ee]),a.useEffect(()=>{if(Le.length>0){const s=setTimeout(()=>ze([]),8e3);return()=>clearTimeout(s)}},[Le]),!t)return e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"bg-white rounded-lg border border-yellow-200 p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ne,{className:"w-5 h-5 text-yellow-600"}),e.jsx("p",{className:"text-gray-600",children:"No employee data available."})]})})});const Ze=()=>{try{return t!=null&&t.skills&&typeof t.skills=="object"?t.skills:{technical:[],domain:[],methodologies:[],certifications:[]}}catch(s){return console.warn("Error parsing skills:",s),{technical:[],domain:[],methodologies:[],certifications:[]}}},es=()=>{try{return t!=null&&t.languages&&Array.isArray(t.languages)?t.languages:[]}catch(s){return console.warn("Error parsing languages:",s),[]}},ss=()=>{try{return t!=null&&t.experiences&&Array.isArray(t.experiences)?t.experiences:[]}catch(s){return console.warn("Error parsing experiences:",s),[]}},_e=()=>{try{return t!=null&&t.mbti_profile&&typeof t.mbti_profile=="object"?t.mbti_profile:{type:"",nickname:"",percentages:{extravert:50,intuitive:50,thinking:50,judging:50},workingStyle:[],communicationPreferences:[],idealCollaboration:""}}catch(s){return console.warn("Error parsing MBTI profile:",s),{type:"",nickname:"",percentages:{extravert:50,intuitive:50,thinking:50,judging:50},workingStyle:[],communicationPreferences:[],idealCollaboration:""}}},Ys=()=>{try{if(typeof t.location=="object"&&t.location){const{city:s,state:r,country:c}=t.location,i=[];return s&&i.push(s),r&&i.push(r),c&&i.push(c),i.length>0?i.join(", "):"Not specified"}return typeof t.location=="string"?t.location:"Not specified"}catch(s){return console.warn("Error parsing location:",s),"Not specified"}},pe=j&&J||Ze(),ye=w&&L||es(),we=M&&ae||ss(),g=C&&Y||_e(),Se=y?R||t.strengths||[]:t.strengths||[],fe=({message:s,show:r})=>r?e.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded-md",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 text-green-400 mr-2",children:"✓"}),e.jsx("p",{className:"text-sm text-green-700",children:s})]})}):null,je=({message:s,show:r})=>!r||!s?null:e.jsx("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-md",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 text-red-400 mr-2",children:"⚠"}),e.jsx("p",{className:"text-sm text-red-700",children:s})]})}),Os=({warnings:s,show:r})=>!r||!s||s.length===0?null:e.jsx("div",{className:"mt-2 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-4 h-4 text-yellow-500 mr-2 mt-0.5",children:"⚠"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800 mb-1",children:"Validation Warnings:"}),e.jsx("ul",{className:"text-sm text-yellow-700 space-y-1",children:s.map((c,i)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"w-1 h-1 bg-yellow-400 rounded-full mt-2 mr-2 flex-shrink-0"}),c]},i))})]})]})}),ts=s=>s?/^[+]?[1-9][\d]{0,15}$/.test(s.replace(/[\s\-()]/g,"")):!0,Qs=async()=>{var s,r,c;if(E)try{if(Z(!0),v(null),Ae(!1),console.log("BasicInfoTab: Starting contact save operation"),n!=null&&n.phone&&!ts(n.phone))throw new Error("Please enter a valid phone number");if(!((s=n==null?void 0:n.location)!=null&&s.city)||!n.location.city.trim())throw new Error("City is required for location");const i={city:n.location.city.trim(),state:((r=n.location.state)==null?void 0:r.trim())||"",country:((c=n.location.country)==null?void 0:c.trim())||""},f={...t,phone:(n==null?void 0:n.phone)||t.phone,timezone:(n==null?void 0:n.timezone)||t.timezone,department:(n==null?void 0:n.department)||t.department,role:(n==null?void 0:n.role)||t.role,location:i};await G.updateEmployee(t.id,f),o(f),D(null),Ae(!0),console.log("BasicInfoTab: Contact changes saved successfully to database")}catch(i){console.error("BasicInfoTab: Error saving contact changes:",i);let f="Failed to save contact information. Please try again.";(i instanceof ve||i.message)&&(f=i.message),v(f);return}finally{Z(!1)}else v(null),Ae(!1),D({phone:t.phone||"",timezone:t.timezone||"EST",department:t.department||"",role:t.role||"",location:typeof t.location=="string"?{city:t.location,state:"",country:""}:typeof t.location=="object"&&t.location?{city:t.location.city||"",state:t.location.state||"",country:t.location.country||""}:{city:"",state:"",country:""}});b(!E)},Ws=async()=>{if(y)try{q(!0),$(null),Te(!1),console.log("BasicInfoTab: Starting strengths save operation");const s=R||t.strengths||[];if(!Array.isArray(s))throw new Error("Strengths must be a valid list");const r=[...new Set(s.filter(i=>i&&i.trim()))],c={...t,strengths:r};await G.updateEmployee(t.id,c),o(c),k(null),Te(!0),console.log("BasicInfoTab: Strengths saved successfully to database")}catch(s){console.error("BasicInfoTab: Error saving strengths changes:",s);let r="Failed to save strengths. Please try again.";(s instanceof ve||s.message)&&(r=s.message),$(r);return}finally{q(!1)}else $(null),Te(!1),k([...t.strengths||[]]);O(!y)},Ks=async()=>{if(j)try{le(!0),d(null),Me(!1),console.log("BasicInfoTab: Starting skills save operation");const s=J||t.skills||{};if(typeof s!="object")throw new Error("Skills must be a valid object");const r={technical:Array.isArray(s.technical)?s.technical.filter(i=>i&&i.trim()):[],domain:Array.isArray(s.domain)?s.domain.filter(i=>i&&i.trim()):[],methodologies:Array.isArray(s.methodologies)?s.methodologies.filter(i=>i&&i.trim()):[],certifications:Array.isArray(s.certifications)?s.certifications.filter(i=>i&&i.trim()):[]},c={...t,skills:r};await G.updateEmployee(t.id,c),o(c),T(null),Me(!0),console.log("BasicInfoTab: Skills saved successfully to database")}catch(s){console.error("BasicInfoTab: Error saving skills changes:",s);let r="Failed to save skills. Please try again.";(s instanceof ve||s.message)&&(r=s.message),d(r);return}finally{le(!1)}else d(null),Me(!1),T({...Ze()});F(!j)},Vs=async()=>{if(w)try{V(!0),I(null),Ie(!1),console.log("BasicInfoTab: Starting languages save operation");const s=L||t.languages||[];if(!Array.isArray(s))throw new Error("Languages must be a valid list");const r=s.filter(i=>!(!i||typeof i!="object"||!i.name||typeof i.name!="string"||!i.name.trim()||!i.level||typeof i.level!="string"||typeof i.percentage!="number"||i.percentage<0||i.percentage>100)),c={...t,languages:r};await G.updateEmployee(t.id,c),o(c),P(null),Ie(!0),console.log("BasicInfoTab: Languages saved successfully to database")}catch(s){console.error("BasicInfoTab: Error saving languages changes:",s);let r="Failed to save languages. Please try again.";(s instanceof ve||s.message)&&(r=s.message),I(r);return}finally{V(!1)}else I(null),Ie(!1),P([...es()]);S(!w)},Hs=async()=>{if(M)try{x(!0),H(null),Fe(!1),console.log("BasicInfoTab: Starting experience save operation");const s=ae||t.experiences||[];if(!Array.isArray(s))throw new Error("Experience must be a valid list");const r=[],c=s.map((f,de)=>{const ue=[];return!f||typeof f!="object"?(ue.push("Invalid experience format"),null):((!f.company||typeof f.company!="string"||!f.company.trim())&&ue.push(`Experience ${de+1}: Company name is required`),(!f.role||typeof f.role!="string"||!f.role.trim())&&ue.push(`Experience ${de+1}: Role/Position is required`),f.period&&typeof f.period!="string"&&ue.push(`Experience ${de+1}: Period must be text`),f.description&&typeof f.description!="string"&&ue.push(`Experience ${de+1}: Description must be text`),ue.length>0?(r.push(...ue),null):{company:f.company.trim(),role:f.role.trim(),period:f.period?f.period.trim():"",description:f.description?f.description.trim():""})}).filter(f=>f!==null);if(r.length>0){if(console.warn("Experience validation issues:",r),ze(r),c.length===0&&s.length>0)throw new Error("All experiences have validation errors. Please fix the required fields (Company and Role) before saving.")}else ze([]);const i={...t,experiences:c};await G.updateEmployee(t.id,i),o(i),K(null),Fe(!0),console.log("BasicInfoTab: Experience saved successfully to database")}catch(s){console.error("BasicInfoTab: Error saving experience changes:",s);let r="Failed to save experience. Please try again.";(s instanceof ve||s.message)&&(r=s.message),H(r);return}finally{x(!1)}else H(null),Fe(!1),ze([]),K([...ss()]);h(!M)},Xs=async()=>{if(C)try{l(!0),Pe(null),Be(!1),console.log("BasicInfoTab: Starting MBTI save operation");const s=Y||t.mbti_profile||{};if(s.percentages){const c={},i=["extravert","intuitive","thinking","judging"];for(const f of i){const de=s.percentages[f];typeof de=="number"&&de>=0&&de<=100?c[f]=de:c[f]=50}s.percentages=c}s.workingStyle&&!Array.isArray(s.workingStyle)&&(s.workingStyle=[]),s.communicationPreferences&&!Array.isArray(s.communicationPreferences)&&(s.communicationPreferences=[]),s.type&&typeof s.type!="string"&&(s.type=""),s.nickname&&typeof s.nickname!="string"&&(s.nickname=""),s.idealCollaboration&&typeof s.idealCollaboration!="string"&&(s.idealCollaboration="");const r={...t,mbti_profile:s};await G.updateEmployee(t.id,r),o(r),z(null),Be(!0),console.log("BasicInfoTab: MBTI saved successfully to database")}catch(s){console.error("BasicInfoTab: Error saving MBTI changes:",s);let r="Failed to save MBTI profile. Please try again.";(s instanceof ve||s.message)&&(r=s.message),Pe(r);return}finally{l(!1)}else Pe(null),Be(!1),z({..._e(),percentages:_e().percentages||{extravert:50,intuitive:50,thinking:50,judging:50}});A(!C)},xe=(s,r)=>{D(c=>{if(s.includes(".")){const[i,f]=s.split(".");return{...c,[i]:{...c[i],[f]:r}}}return{...c,[s]:r}})},os=()=>{if(Re.trim()&&!Se.includes(Re.trim())){const s=[...Se,Re.trim()];k(s),is("")}},Zs=s=>{const r=Se.filter((c,i)=>i!==s);k(r)},ds=[{key:"technical",label:"Technical Skills",color:"blue"},{key:"domain",label:"Domain Expertise",color:"green"},{key:"methodologies",label:"Methodologies",color:"purple"},{key:"certifications",label:"Certifications",color:"yellow"}],ms=()=>{if(!He.trim())return;const s={...pe,[Xe]:[...pe[Xe]||[],He.trim()]};T(s),cs("")},et=(s,r)=>{const c={...pe,[s]:pe[s].filter((i,f)=>f!==r)};T(c)},st=()=>{if(ce.name.trim()){const s=[...ye,{...ce}];P(s),$e({name:"",level:"Beginner",percentage:50})}},tt=s=>{const r=ye.filter((c,i)=>i!==s);P(r)},as=(s,r,c)=>{const i=[...ye];i[s]={...i[s],[r]:c},P(i)},at=()=>{if(te.company.trim()&&te.role.trim()){const s=[...we,{...te}];K(s),be({company:"",role:"",period:"",description:""})}},lt=s=>{const r=we.filter((c,i)=>i!==s);K(r)},Ue=(s,r,c)=>{const i=[...we];i[s]={...i[s],[r]:c},K(i)},oe=(s,r)=>{const c={...g};if(s.includes(".")){const[i,f]=s.split(".");c[i]={...c[i],[f]:r}}else c[s]=r;z(c)};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Basic Information"})}),e.jsxs("div",{className:"bg-white rounded-lg border p-5 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(rs,{className:"w-5 h-5 text-purple-600"}),"Contact Information"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[E&&e.jsx(N,{onClick:()=>{b(!1),D(null)},variant:"ghost",size:"sm",className:"flex items-center gap-2",children:"Cancel"}),e.jsxs(N,{onClick:Qs,disabled:Q,variant:E?"primary":"outline",size:"sm",className:"flex items-center gap-2",children:[Q?e.jsx(me,{className:"w-4 h-4 animate-spin"}):e.jsx(ge,{className:"w-4 h-4"}),Q?"Saving...":E?"Save":"Edit"]})]})]}),E?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rs,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:t.email||"Email not provided"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rs,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(U,{type:"tel",value:(n==null?void 0:n.phone)||"",onChange:s=>xe("phone",s.target.value),placeholder:"Phone number",className:`w-full ${ts(n==null?void 0:n.phone)?"":"border-red-500"}`}),(n==null?void 0:n.phone)&&!ts(n.phone)&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Please enter a valid phone number"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"w-4 h-4 text-gray-400"}),e.jsx(U,{type:"text",value:(n==null?void 0:n.role)||"",onChange:s=>xe("role",s.target.value),placeholder:"Job title or role",className:"flex-1"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($s,{className:"w-4 h-4 text-gray-400"}),e.jsx(U,{type:"text",value:((xs=n==null?void 0:n.location)==null?void 0:xs.city)||"",onChange:s=>xe("location.city",s.target.value),placeholder:"City (required)",className:`flex-1 ${(gs=(us=n==null?void 0:n.location)==null?void 0:us.city)!=null&&gs.trim()?"":"border-red-300 focus:border-red-500"}`})]}),E&&!((ps=(hs=n==null?void 0:n.location)==null?void 0:hs.city)!=null&&ps.trim())&&e.jsx("div",{className:"text-xs text-red-600 ml-6 mt-1",children:"City is required"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 ml-6",children:[e.jsx(U,{type:"text",value:((fs=n==null?void 0:n.location)==null?void 0:fs.state)||"",onChange:s=>xe("location.state",s.target.value),placeholder:"State/Province",className:"w-full"}),e.jsx(U,{type:"text",value:((js=n==null?void 0:n.location)==null?void 0:js.country)||"",onChange:s=>xe("location.country",s.target.value),placeholder:"Country",className:"w-full"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timezone"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_s,{className:"w-4 h-4 text-gray-400"}),e.jsxs("select",{value:(n==null?void 0:n.timezone)||"EST",onChange:s=>xe("timezone",s.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"EST",children:"EST"}),e.jsx("option",{value:"PST",children:"PST"}),e.jsx("option",{value:"MST",children:"MST"}),e.jsx("option",{value:"CST",children:"CST"}),e.jsx("option",{value:"UTC",children:"UTC"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Us,{className:"w-4 h-4 text-gray-400"}),e.jsx(U,{type:"text",value:(n==null?void 0:n.department)||"",onChange:s=>xe("department",s.target.value),placeholder:"Department or team",className:"flex-1"})]})]})]})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rs,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:t.email||"Email not provided"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rs,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:t.phone||"+1 (555) 123-4567"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{children:["Role: ",t.role||"Not specified"]})]})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($s,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{children:["Location: ",Ys()]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_s,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{children:["Timezone: ",t.timezone||"EST"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Us,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{children:["Department: ",t.department||"Not specified"]})]})]})]}),e.jsx(fe,{message:"Contact information saved successfully!",show:Ye}),e.jsx(je,{message:m,show:!!m})]}),e.jsxs("div",{className:"bg-white rounded-lg border p-5 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(X,{className:"w-5 h-5 text-purple-600"}),"Strengths"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[y&&e.jsx(N,{onClick:()=>{O(!1),k(null)},variant:"ghost",size:"sm",className:"flex items-center gap-2",children:"Cancel"}),e.jsxs(N,{onClick:Ws,disabled:ie,variant:y?"primary":"outline",size:"sm",className:"flex items-center gap-2",children:[ie?e.jsx(me,{className:"w-4 h-4 animate-spin"}):e.jsx(ge,{className:"w-4 h-4"}),ie?"Saving...":y?"Save":"Edit"]})]})]}),y&&e.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Add Strength"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(U,{type:"text",value:Re,onChange:s=>is(s.target.value),placeholder:"Enter a strength",className:"flex-1",onKeyPress:s=>s.key==="Enter"&&os()}),e.jsxs(N,{onClick:os,className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"w-4 h-4"}),"Add"]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Se.length>0?Se.map((s,r)=>e.jsxs("div",{className:"px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-xs font-medium flex items-center gap-2",children:[e.jsx("span",{children:s}),y&&e.jsx("button",{onClick:()=>Zs(r),className:"hover:text-red-600 transition-colors",children:e.jsx(Ge,{className:"w-3 h-3"})})]},r)):e.jsx("span",{className:"text-gray-500 text-sm",children:y?"No strengths added yet. Use the form above to add your first strength.":"No strengths data available"})}),e.jsx(fe,{message:"Strengths saved successfully!",show:Oe}),e.jsx(je,{message:B,show:!!B})]}),e.jsxs("div",{className:"bg-white rounded-lg border p-5 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(De,{className:"w-5 h-5 text-purple-600"}),"Skills Management"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[j&&e.jsx(N,{onClick:()=>{F(!1),T(null)},variant:"ghost",size:"sm",className:"flex items-center gap-2",children:"Cancel"}),e.jsxs(N,{onClick:Ks,disabled:ee,variant:j?"primary":"outline",size:"sm",className:"flex items-center gap-2",children:[ee?e.jsx(me,{className:"w-4 h-4 animate-spin"}):e.jsx(ge,{className:"w-4 h-4"}),ee?"Saving...":j?"Save":"Edit"]})]})]}),j&&e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Add New Skill"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("select",{value:Xe,onChange:s=>Ds(s.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:ds.map(s=>e.jsx("option",{value:s.key,children:s.label},s.key))}),e.jsx(U,{type:"text",value:He,onChange:s=>cs(s.target.value),placeholder:"Enter skill name",className:"flex-1",onKeyPress:s=>s.key==="Enter"&&ms()}),e.jsxs(N,{onClick:ms,className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"w-4 h-4"}),"Add"]})]})]}),e.jsx("div",{className:"space-y-6",children:ds.map(s=>e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:s.label}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(pe[s.key]||[]).map((r,c)=>e.jsxs("div",{className:`px-3 py-1 bg-${s.color}-100 text-${s.color}-700 rounded-full text-xs font-medium flex items-center gap-2`,children:[e.jsx("span",{children:r}),j&&e.jsx("button",{onClick:()=>et(s.key,c),className:"hover:text-red-600 transition-colors",children:e.jsx(Ge,{className:"w-3 h-3"})})]},c)),(pe[s.key]||[]).length===0&&e.jsxs("span",{className:"text-gray-500 text-sm",children:["No ",s.label.toLowerCase()," added yet"]})]})]},s.key))}),e.jsx(fe,{message:"Skills saved successfully!",show:Qe}),e.jsx(je,{message:W,show:!!W})]}),e.jsxs("div",{className:"bg-white rounded-lg border p-5 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Je,{className:"w-5 h-5 text-purple-600"}),"Languages"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[w&&e.jsx(N,{onClick:()=>{S(!1),P(null)},variant:"ghost",size:"sm",className:"flex items-center gap-2",children:"Cancel"}),e.jsxs(N,{onClick:Vs,disabled:re,variant:w?"primary":"outline",size:"sm",className:"flex items-center gap-2",children:[re?e.jsx(me,{className:"w-4 h-4 animate-spin"}):e.jsx(ge,{className:"w-4 h-4"}),re?"Saving...":w?"Save":"Edit"]})]})]}),w&&e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Add Language"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[e.jsx(U,{type:"text",value:ce.name,onChange:s=>$e({...ce,name:s.target.value}),placeholder:"Language name"}),e.jsxs("select",{value:ce.level,onChange:s=>$e({...ce,level:s.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"Beginner",children:"Beginner"}),e.jsx("option",{value:"Intermediate",children:"Intermediate"}),e.jsx("option",{value:"Advanced",children:"Advanced"}),e.jsx("option",{value:"Native",children:"Native"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Proficiency:"}),e.jsx("input",{type:"range",min:"1",max:"100",value:ce.percentage,onChange:s=>$e({...ce,percentage:parseInt(s.target.value)}),className:"flex-1"}),e.jsxs("span",{className:"text-sm font-medium w-8",children:[ce.percentage,"%"]})]}),e.jsxs(N,{onClick:st,className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"w-4 h-4"}),"Add"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:ye.length>0?ye.map((s,r)=>e.jsx("div",{className:"border rounded-lg p-4",children:w?e.jsxs("div",{className:"space-y-3",children:[e.jsx(U,{type:"text",value:s.name,onChange:c=>as(r,"name",c.target.value),placeholder:"Language name"}),e.jsxs("select",{value:s.level,onChange:c=>as(r,"level",c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"Beginner",children:"Beginner"}),e.jsx("option",{value:"Intermediate",children:"Intermediate"}),e.jsx("option",{value:"Advanced",children:"Advanced"}),e.jsx("option",{value:"Native",children:"Native"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Proficiency"}),e.jsxs("span",{className:"text-sm font-medium",children:[s.percentage||50,"%"]})]}),e.jsx("input",{type:"range",min:"1",max:"100",value:s.percentage||50,onChange:c=>as(r,"percentage",parseInt(c.target.value)),className:"w-full"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(N,{variant:"ghost",size:"sm",onClick:()=>tt(r),className:"text-red-600 hover:text-red-700",children:[e.jsx(Ge,{className:"w-4 h-4"}),"Remove"]})})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:s.name||"Unknown Language"}),e.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded-full",children:s.level||"Unknown"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 h-1.5 rounded-full",style:{width:`${s.percentage||50}%`}})})]})},r)):e.jsxs("div",{className:"col-span-3 text-center text-gray-500 text-sm py-8",children:[e.jsx(Je,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{children:w?"No languages added yet. Use the form above to add your first language.":"No languages data available"})]})}),e.jsx(fe,{message:"Languages saved successfully!",show:We}),e.jsx(je,{message:p,show:!!p})]}),e.jsxs("div",{className:"bg-white rounded-lg border p-5 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Ce,{className:"w-5 h-5 text-purple-600"}),"Past Experience"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[M&&e.jsx(N,{onClick:()=>{h(!1),K(null)},variant:"ghost",size:"sm",className:"flex items-center gap-2",children:"Cancel"}),e.jsxs(N,{onClick:Hs,disabled:se,variant:M?"primary":"outline",size:"sm",className:"flex items-center gap-2",children:[se?e.jsx(me,{className:"w-4 h-4 animate-spin"}):e.jsx(ge,{className:"w-4 h-4"}),se?"Saving...":M?"Save":"Edit"]})]})]}),M&&e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Add Experience"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx(U,{type:"text",value:te.company,onChange:s=>be({...te,company:s.target.value}),placeholder:"Company name"}),e.jsx(U,{type:"text",value:te.role,onChange:s=>be({...te,role:s.target.value}),placeholder:"Job title"})]}),e.jsx(U,{type:"text",value:te.period,onChange:s=>be({...te,period:s.target.value}),placeholder:"Period (e.g., 2020-2022)"}),e.jsx("textarea",{value:te.description,onChange:s=>be({...te,description:s.target.value}),placeholder:"Job description and achievements...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:3}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(N,{onClick:at,className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"w-4 h-4"}),"Add Experience"]})})]})]}),e.jsx("div",{className:"space-y-6",children:we.length>0?we.map((s,r)=>e.jsxs("div",{className:"relative pl-8 pb-6 border-l-2 border-gray-200 last:border-0 last:pb-0",children:[e.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 bg-purple-100 border-2 border-purple-500 rounded-full"}),M?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx(U,{type:"text",value:s.company,onChange:c=>Ue(r,"company",c.target.value),placeholder:"Company name"}),e.jsx(U,{type:"text",value:s.role,onChange:c=>Ue(r,"role",c.target.value),placeholder:"Job title"})]}),e.jsx(U,{type:"text",value:s.period,onChange:c=>Ue(r,"period",c.target.value),placeholder:"Period (e.g., 2020-2022)"}),e.jsx("textarea",{value:s.description,onChange:c=>Ue(r,"description",c.target.value),placeholder:"Job description and achievements...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:4}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(N,{variant:"ghost",size:"sm",onClick:()=>lt(r),className:"text-red-600 hover:text-red-700",children:[e.jsx(Ge,{className:"w-4 h-4"}),"Remove Experience"]})})]}):e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:s.company||"Unknown Company"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-700",children:s.role||"Unknown Role"}),e.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded-full",children:s.period||"Unknown Period"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:s.description||"No description available"})]})]},r)):e.jsxs("div",{className:"text-center text-gray-500 text-sm py-8",children:[e.jsx(Ce,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{children:M?"No experience added yet. Use the form above to add your first job experience.":"No past experience data available"})]})}),e.jsx(fe,{message:"Experience saved successfully!",show:Ke}),e.jsx(je,{message:_,show:!!_}),e.jsx(Os,{warnings:Le,show:Le.length>0})]}),e.jsxs("div",{className:"bg-white rounded-lg border p-5 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(X,{className:"w-5 h-5 text-purple-600"}),"MBTI Personality"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[C&&e.jsx(N,{onClick:()=>{A(!1),z(null)},variant:"ghost",size:"sm",className:"flex items-center gap-2",children:"Cancel"}),e.jsxs(N,{onClick:Xs,disabled:u,variant:C?"primary":"outline",size:"sm",className:"flex items-center gap-2",children:[u?e.jsx(me,{className:"w-4 h-4 animate-spin"}):e.jsx(ge,{className:"w-4 h-4"}),u?"Saving...":C?"Save":"Edit"]})]})]}),C?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"MBTI Type"}),e.jsxs("select",{value:g.type||"",onChange:s=>oe("type",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Type"}),["INTJ","INTP","ENTJ","ENTP","INFJ","INFP","ENFJ","ENFP","ISTJ","ISFJ","ESTJ","ESFJ","ISTP","ISFP","ESTP","ESFP"].map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nickname"}),e.jsx(U,{type:"text",value:g.nickname||"",onChange:s=>oe("nickname",s.target.value),placeholder:"e.g., The Architect"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Personality Percentages"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Extravert vs Introvert"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"I"}),e.jsx("input",{type:"range",min:"0",max:"100",value:((vs=g.percentages)==null?void 0:vs.extravert)||50,onChange:s=>oe("percentages.extravert",parseInt(s.target.value)),className:"flex-1"}),e.jsx("span",{className:"text-xs text-gray-500",children:"E"}),e.jsxs("span",{className:"text-sm font-medium w-8",children:[((Ns=g.percentages)==null?void 0:Ns.extravert)||50,"%"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Sensing vs Intuitive"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"S"}),e.jsx("input",{type:"range",min:"0",max:"100",value:((bs=g.percentages)==null?void 0:bs.intuitive)||50,onChange:s=>oe("percentages.intuitive",parseInt(s.target.value)),className:"flex-1"}),e.jsx("span",{className:"text-xs text-gray-500",children:"N"}),e.jsxs("span",{className:"text-sm font-medium w-8",children:[((ys=g.percentages)==null?void 0:ys.intuitive)||50,"%"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Feeling vs Thinking"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"F"}),e.jsx("input",{type:"range",min:"0",max:"100",value:((ws=g.percentages)==null?void 0:ws.thinking)||50,onChange:s=>oe("percentages.thinking",parseInt(s.target.value)),className:"flex-1"}),e.jsx("span",{className:"text-xs text-gray-500",children:"T"}),e.jsxs("span",{className:"text-sm font-medium w-8",children:[((Ss=g.percentages)==null?void 0:Ss.thinking)||50,"%"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Perceiving vs Judging"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"P"}),e.jsx("input",{type:"range",min:"0",max:"100",value:((Cs=g.percentages)==null?void 0:Cs.judging)||50,onChange:s=>oe("percentages.judging",parseInt(s.target.value)),className:"flex-1"}),e.jsx("span",{className:"text-xs text-gray-500",children:"J"}),e.jsxs("span",{className:"text-sm font-medium w-8",children:[((ks=g.percentages)==null?void 0:ks.judging)||50,"%"]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Working Style"}),e.jsx("textarea",{value:((Es=g.workingStyle)==null?void 0:Es.join(", "))||"",onChange:s=>oe("workingStyle",s.target.value.split(",").map(r=>r.trim()).filter(Boolean)),placeholder:"e.g., collaborative, analytical, detail-oriented",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:3}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Separate multiple styles with commas"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Communication Preferences"}),e.jsx("textarea",{value:((Ps=g.communicationPreferences)==null?void 0:Ps.join(", "))||"",onChange:s=>oe("communicationPreferences",s.target.value.split(",").map(r=>r.trim()).filter(Boolean)),placeholder:"e.g., face-to-face, written, brainstorming",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:3}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Separate multiple preferences with commas"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ideal Collaboration Environment"}),e.jsx("textarea",{value:g.idealCollaboration||"",onChange:s=>oe("idealCollaboration",s.target.value),placeholder:"Describe your ideal work environment and collaboration style...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:3})]})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center p-4 bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-4xl font-bold text-purple-700 mb-2",children:g.type||"N/A"}),e.jsxs("p",{className:"text-sm text-center text-gray-600",children:['"',g.nickname||"No nickname available",'"']}),g.percentages&&e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 w-full",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:(As=g.type)!=null&&As.includes("E")?"Extravert":"Introvert"}),e.jsxs("div",{className:"font-medium",children:[(Ts=g.type)!=null&&Ts.includes("E")?g.percentages.extravert:g.percentages.introvert||50,"%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:(Ms=g.type)!=null&&Ms.includes("N")?"Intuitive":"Sensing"}),e.jsxs("div",{className:"font-medium",children:[(Is=g.type)!=null&&Is.includes("N")?g.percentages.intuitive:g.percentages.sensing||50,"%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:(Fs=g.type)!=null&&Fs.includes("T")?"Thinking":"Feeling"}),e.jsxs("div",{className:"font-medium",children:[(Bs=g.type)!=null&&Bs.includes("T")?g.percentages.thinking:g.percentages.feeling||50,"%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500",children:(Ls=g.type)!=null&&Ls.includes("J")?"Judging":"Perceiving"}),e.jsxs("div",{className:"font-medium",children:[(zs=g.type)!=null&&zs.includes("J")?g.percentages.judging:g.percentages.perceiving||50,"%"]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Working Style"}),g.workingStyle&&g.workingStyle.length>0?e.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600",children:g.workingStyle.map((s,r)=>e.jsx("li",{children:s},r))}):e.jsx("p",{className:"text-sm text-gray-500",children:"No working style data available"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mt-3",children:"Communication Preferences"}),g.communicationPreferences&&g.communicationPreferences.length>0?e.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600",children:g.communicationPreferences.map((s,r)=>e.jsx("li",{children:s},r))}):e.jsx("p",{className:"text-sm text-gray-500",children:"No communication preferences data available"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mt-3",children:"Ideal Collaboration Environment"}),e.jsx("p",{className:"text-sm text-gray-600",children:g.idealCollaboration||"No ideal collaboration data available"})]})]})]}),e.jsx(fe,{message:"MBTI profile saved successfully!",show:Ve}),e.jsx(je,{message:Ee,show:!!Ee})]})]})};function pt({employeeId:t,projects:o,setProjects:E,performanceData:b,setPerformanceData:y}){var W;const[O,j]=a.useState(!1),[F,w]=a.useState(null),[S,M]=a.useState({name:"",description:"",year:new Date().getFullYear(),revenue:0,status:"active",deadline:""}),[h,C]=a.useState(!1),[A,n]=a.useState(null),[D,R]=a.useState(!1),[k,J]=a.useState(null),[T,L]=a.useState(""),[P,ae]=a.useState(null),[K,Y]=a.useState(!1),[z,Q]=a.useState(!1),Z=d=>{try{return!d||!Array.isArray(d)?0:d.reduce((p,I)=>I&&typeof I.revenue=="number"&&I.revenue>=0?p+I.revenue:p,0)}catch(p){return console.error("Error calculating total revenue in ProjectManagementSection:",p),0}},ie=()=>!o||o.length===0?1:Math.max(...o.map(d=>d.id||0))+1,q=a.useMemo(()=>{if(!T.trim())return o||[];const d=T.toLowerCase();return(o||[]).filter(p=>p.name.toLowerCase().includes(d)||p.year.toString().includes(T))},[o,T]);a.useEffect(()=>{Q(!1)},[q.length,T]);const ee=a.useMemo(()=>q.length<=3||z?q:q.slice(0,3),[q,z]),le=q.length>3,re=q.length-3,V=()=>{M({name:"",description:"",year:new Date().getFullYear(),revenue:0,status:"active",deadline:""}),j(!0),w(null)},se=d=>{M({...d}),w(d),j(!0)},x=d=>{const p=o.find(I=>I.id===d);J(p),R(!0)},u=async()=>{if(k){C(!0),n(null);try{await G.deleteProject(t,k.id);const d=o.filter(p=>p.id!==k.id);if(E(d),y&&b){const p=Z(d),I={...b,projects:d,total_revenue:p};y(I)}R(!1),J(null)}catch(d){console.error("Error deleting project:",d),n("Failed to delete project. Please try again.")}finally{C(!1)}}},l=()=>{R(!1),J(null)},m=d=>{ae(d),Y(!0)},v=()=>{Y(!1),ae(null)},B=d=>{const{name:p,value:I}=d.target;M(_=>({..._,[p]:p==="revenue"||p==="year"?Number(I):I}))},$=async d=>{if(d.preventDefault(),!!S.name.trim()){C(!0),n(null);try{if(F){const p={...F,...S};await G.updateProject(t,F.id,p);const I=o.map(_=>_.id===F.id?p:_);if(E(I),y&&b)try{const _=Z(I),H={...b,projects:I,total_revenue:_};y(H)}catch(_){console.error("Error updating performance data with revenue:",_);const H={...b,projects:I};y(H)}}else{const p={...S,id:ie()},I=[...o,p];if(await G.addProject(t,p),E(I),y&&b)try{const _=Z(I),H={...b,projects:I,total_revenue:_};y(H)}catch(_){console.error("Error updating performance data with revenue:",_);const H={...b,projects:I};y(H)}}j(!1),w(null),M({name:"",description:"",year:new Date().getFullYear(),revenue:0,status:"active",deadline:""})}catch(p){console.error("Error saving project:",p),n("Failed to save project. Please try again.")}finally{C(!1)}}};return e.jsxs("div",{className:"bg-white rounded-lg border p-5 shadow-sm mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Ce,{className:"w-5 h-5 text-purple-600"}),"Project Management"]}),e.jsxs(N,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 w-40",onClick:V,disabled:h,children:[e.jsx(Ne,{className:"w-4 h-4 mr-1"}),"Add New Project"]})]}),A&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2",children:[e.jsx(qe,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"text-red-700 text-sm",children:A})]}),e.jsxs("div",{className:"mb-4 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(gt,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"text",placeholder:"Search projects by name or year...",className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 sm:text-sm",value:T,onChange:d=>L(d.target.value)}),T&&e.jsx("button",{onClick:()=>L(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx(Js,{className:"h-4 w-4 text-gray-400 hover:text-gray-600"})})]}),!o||o.length===0?e.jsx("div",{className:"text-gray-500 text-sm",children:"No projects yet. Add a new project to get started!"}):q.length===0?e.jsx("div",{className:"text-gray-500 text-sm",children:"No projects match your search criteria."}):e.jsx("ul",{className:"divide-y",children:ee.map(d=>{var p;return e.jsxs("li",{className:"py-3 flex flex-col md:flex-row md:items-center md:justify-between group",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>m(d),className:"font-medium text-gray-900 hover:text-purple-600 cursor-pointer underline-offset-2 hover:underline",children:d.name}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ml-2 ${d.status==="completed"?"bg-green-100 text-green-700":d.status==="active"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:d.status}),e.jsx("span",{className:"text-xs text-gray-500 ml-2",children:d.year}),e.jsxs("span",{className:"text-xs text-green-600 ml-2",children:["$",((p=d.revenue)==null?void 0:p.toLocaleString())||0]})]}),d.deadline&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Deadline: ",d.deadline]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 md:mt-0 md:ml-4",children:[e.jsx(N,{size:"xs",variant:"outline",onClick:()=>se(d),disabled:h,children:"Edit"}),e.jsx(N,{size:"xs",variant:"outline",onClick:()=>x(d.id),disabled:h,children:"Delete"})]})]},d.id)})}),le&&e.jsx("div",{className:"flex justify-center mt-4",children:e.jsx(N,{variant:"ghost",size:"sm",onClick:()=>Q(!z),className:"text-purple-600 hover:text-purple-700 hover:bg-purple-50",children:z?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mr-2",children:"Show less"}),e.jsx(mt,{className:"w-4 h-4"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"mr-2",children:["Show ",re," more project",re!==1?"s":""]}),e.jsx(it,{className:"w-4 h-4"})]})})}),O&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("form",{onSubmit:$,className:"bg-white rounded-xl shadow-lg max-w-md w-full p-6 flex flex-col gap-4 border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"text-lg font-bold text-purple-700",children:F?"Edit Project":"Add New Project"}),e.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-600 text-2xl",onClick:()=>{j(!1),w(null)},disabled:h,children:"×"})]}),A&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2",children:[e.jsx(qe,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"text-red-700 text-sm",children:A})]}),e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Project Name",e.jsx("input",{type:"text",name:"name",className:"mt-1 border rounded px-3 py-2 w-full",value:S.name,onChange:B,required:!0,disabled:h})]}),e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Description",e.jsx("textarea",{name:"description",className:"mt-1 border rounded px-3 py-2 w-full",value:S.description,onChange:B,disabled:h,rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Year",e.jsx("input",{type:"number",name:"year",min:"2020",max:"2030",className:"mt-1 border rounded px-3 py-2 w-full",value:S.year,onChange:B,required:!0,disabled:h})]}),e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Revenue ($)",e.jsx("input",{type:"number",name:"revenue",min:"0",step:"0.01",className:"mt-1 border rounded px-3 py-2 w-full",value:S.revenue,onChange:B,required:!0,disabled:h})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Status",e.jsxs("select",{name:"status",className:"mt-1 border rounded px-3 py-2 w-full",value:S.status,onChange:B,disabled:h,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"on_hold",children:"On Hold"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Deadline",e.jsx("input",{type:"date",name:"deadline",className:"mt-1 border rounded px-3 py-2 w-full",value:S.deadline,onChange:B,disabled:h})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx(N,{type:"button",variant:"outline",onClick:()=>{j(!1),w(null)},disabled:h,children:"Cancel"}),e.jsx(N,{type:"submit",className:"bg-purple-600 hover:bg-purple-700 text-white",disabled:h,children:h?e.jsxs(e.Fragment,{children:[e.jsx(Gs,{className:"w-4 h-4 animate-spin mr-2"}),"Saving..."]}):F?"Save Changes":"Add Project"})]})]})}),e.jsx(qs,{isOpen:D,onClose:l,onConfirm:u,title:"Delete Project",message:`Are you sure you want to delete the project "${k==null?void 0:k.name}"? This action cannot be undone.`,loading:h,itemType:"Project"}),K&&P&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-md w-full p-6 border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-purple-700",children:"Project Details"}),e.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-600 text-2xl",onClick:v,children:"×"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Name"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:P.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Description"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:P.description||"No description available"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Year"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:P.year})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Revenue"}),e.jsxs("p",{className:"mt-1 text-sm text-green-600 font-medium",children:["$",((W=P.revenue)==null?void 0:W.toLocaleString())||0]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),e.jsx("p",{className:"mt-1",children:e.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${P.status==="completed"?"bg-green-100 text-green-700":P.status==="active"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:P.status})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Deadline"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:P.deadline||"No deadline set"})]})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(N,{type:"button",variant:"outline",onClick:v,children:"Close"})})]})})]})}const ns=[{name:"Star",component:X,color:"text-yellow-600"},{name:"Award",component:De,color:"text-green-600"},{name:"Target",component:ke,color:"text-blue-600"},{name:"TrendingUp",component:he,color:"text-purple-600"},{name:"FileText",component:Je,color:"text-indigo-600"}];function ft({employeeId:t,milestones:o,setMilestones:E,performanceData:b,setPerformanceData:y}){const[O,j]=a.useState(!1),[F,w]=a.useState(null),[S,M]=a.useState({label:"",year:new Date().getFullYear(),icon:"Star",iconColor:"text-yellow-600",date:"",description:""}),[h,C]=a.useState(!1),[A,n]=a.useState(null),[D,R]=a.useState(!1),[k,J]=a.useState(null),[T,L]=a.useState("all"),[P,ae]=a.useState("all"),K=()=>!o||o.length===0?1:Math.max(...o.map(x=>x.id||0))+1,Y=x=>{if(!x)return null;const l=new Date(x).getMonth();return Math.floor(l/3)+1},z=(x,u)=>`Q${x} ${u}`,Q=a.useMemo(()=>{const x=new Set;return o==null||o.forEach(u=>{if(u.date){const l=new Date(u.date).getFullYear();x.add(l)}else u.year&&x.add(u.year)}),Array.from(x).sort((u,l)=>l-u)},[o]),Z=a.useMemo(()=>{if(!o||o.length===0)return{};let x=o.filter(v=>{if(!v.date)return!1;const $=new Date(v.date).getFullYear(),W=Y(v.date),d=T==="all"||$===parseInt(T),p=P==="all"||W===parseInt(P);return d&&p});const u={};x.forEach(v=>{const $=new Date(v.date).getFullYear(),W=Y(v.date),d=`${$}-Q${W}`;u[d]||(u[d]={year:$,quarter:W,milestones:[]}),u[d].milestones.push(v)});const l=Object.keys(u).sort((v,B)=>{const[$,W]=v.split("-Q"),[d,p]=B.split("-Q");return parseInt($)!==parseInt(d)?parseInt(d)-parseInt($):parseInt(p)-parseInt(W)}),m={};return l.forEach(v=>{m[v]=u[v]}),m},[o,T,P]),ie=()=>{M({label:"",year:new Date().getFullYear(),icon:"Star",iconColor:"text-yellow-600",date:"",description:""}),j(!0),w(null)},q=x=>{M({...x}),w(x),j(!0)},ee=x=>{const u=o.find(l=>l.id===x);J(u),R(!0)},le=async()=>{if(k){C(!0),n(null);try{await G.deleteMilestone(t,k.id);const x=o.filter(u=>u.id!==k.id);if(E(x),y&&b){const u={...b,milestones:x};y(u)}R(!1),J(null)}catch(x){console.error("Error deleting milestone:",x),n("Failed to delete milestone. Please try again.")}finally{C(!1)}}},re=()=>{R(!1),J(null)},V=x=>{const{name:u,value:l}=x.target;if(u==="icon"){const m=ns.find(v=>v.name===l);M(v=>({...v,icon:l,iconColor:m?m.color:"text-yellow-600"}))}else M(m=>({...m,[u]:u==="year"?Number(l):l}))},se=async x=>{if(x.preventDefault(),!!S.label.trim()){C(!0),n(null);try{if(F){const u={...F,...S};await G.updateMilestone(t,F.id,u);const l=o.map(m=>m.id===F.id?u:m);if(E(l),y&&b){const m={...b,milestones:l};y(m)}}else{const u={...S,id:K()},l=[...o,u];if(await G.addMilestone(t,u),E(l),y&&b){const m={...b,milestones:l};y(m)}}j(!1),w(null),M({label:"",year:new Date().getFullYear(),icon:"Star",iconColor:"text-yellow-600",date:"",description:""})}catch(u){console.error("Error saving milestone:",u),n("Failed to save milestone. Please try again.")}finally{C(!1)}}};return e.jsxs("div",{className:"bg-white rounded-lg border p-5 shadow-sm mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(X,{className:"w-5 h-5 text-yellow-600"}),"Milestone Management"]}),e.jsxs(N,{size:"sm",className:"bg-yellow-600 hover:bg-yellow-700 w-40",onClick:ie,disabled:h,children:[e.jsx(Ne,{className:"w-4 h-4 mr-1"}),"Add New Milestone"]})]}),A&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2",children:[e.jsx(qe,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"text-red-700 text-sm",children:A})]}),e.jsxs("div",{className:"mb-4 flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Year"}),e.jsxs("select",{value:T,onChange:x=>L(x.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 sm:text-sm",children:[e.jsx("option",{value:"all",children:"All Years"}),Q.map(x=>e.jsx("option",{value:x,children:x},x))]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Quarter"}),e.jsxs("select",{value:P,onChange:x=>ae(x.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 sm:text-sm",children:[e.jsx("option",{value:"all",children:"All Quarters"}),e.jsx("option",{value:"1",children:"Q1 (Jan-Mar)"}),e.jsx("option",{value:"2",children:"Q2 (Apr-Jun)"}),e.jsx("option",{value:"3",children:"Q3 (Jul-Sep)"}),e.jsx("option",{value:"4",children:"Q4 (Oct-Dec)"})]})]})]}),!o||o.length===0?e.jsx("div",{className:"text-gray-500 text-sm",children:"No milestones yet. Add a new milestone to get started!"}):Object.keys(Z).length===0?e.jsx("div",{className:"text-gray-500 text-sm",children:"No milestones match your filter criteria."}):e.jsx("div",{className:"space-y-6",children:Object.entries(Z).map(([x,u])=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(X,{className:"w-4 h-4 text-yellow-600"}),z(u.quarter,u.year),e.jsxs("span",{className:"text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full ml-2",children:[u.milestones.length," milestone",u.milestones.length!==1?"s":""]})]}),e.jsx("ul",{className:"divide-y divide-gray-200",children:u.milestones.map(l=>{var v;const m=((v=ns.find(B=>B.name===l.icon))==null?void 0:v.component)||X;return e.jsxs("li",{className:"py-3 flex flex-col md:flex-row md:items-center md:justify-between group bg-white rounded-lg px-3 mb-2 shadow-sm",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:`w-4 h-4 ${l.iconColor}`}),e.jsx("span",{className:"font-medium text-gray-900",children:l.label}),l.date&&e.jsx("span",{className:"text-xs text-gray-500 ml-2",children:l.date})]}),l.description&&e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:l.description})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 md:mt-0 md:ml-4",children:[e.jsx(N,{size:"xs",variant:"outline",onClick:()=>q(l),disabled:h,children:"Edit"}),e.jsx(N,{size:"xs",variant:"outline",onClick:()=>ee(l.id),disabled:h,children:"Delete"})]})]},l.id)})})]},x))}),O&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("form",{onSubmit:se,className:"bg-white rounded-xl shadow-lg max-w-md w-full p-6 flex flex-col gap-4 border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"text-lg font-bold text-yellow-700",children:F?"Edit Milestone":"Add New Milestone"}),e.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-600 text-2xl",onClick:()=>{j(!1),w(null)},disabled:h,children:"×"})]}),A&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2",children:[e.jsx(qe,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"text-red-700 text-sm",children:A})]}),e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Milestone Title",e.jsx("input",{type:"text",name:"label",className:"mt-1 border rounded px-3 py-2 w-full",value:S.label,onChange:V,required:!0,disabled:h})]}),e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Description",e.jsx("textarea",{name:"description",className:"mt-1 border rounded px-3 py-2 w-full",value:S.description,onChange:V,disabled:h,rows:2})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Year",e.jsx("input",{type:"number",name:"year",min:"2020",max:"2030",className:"mt-1 border rounded px-3 py-2 w-full",value:S.year,onChange:V,required:!0,disabled:h})]}),e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Date",e.jsx("input",{type:"date",name:"date",className:"mt-1 border rounded px-3 py-2 w-full",value:S.date,onChange:V,disabled:h})]})]}),e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Icon",e.jsx("select",{name:"icon",className:"mt-1 border rounded px-3 py-2 w-full",value:S.icon,onChange:V,disabled:h,children:ns.map(x=>e.jsx("option",{value:x.name,children:x.name},x.name))})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx(N,{type:"button",variant:"outline",onClick:()=>{j(!1),w(null)},disabled:h,children:"Cancel"}),e.jsx(N,{type:"submit",className:"bg-yellow-600 hover:bg-yellow-700 text-white",disabled:h,children:h?e.jsxs(e.Fragment,{children:[e.jsx(Gs,{className:"w-4 h-4 animate-spin mr-2"}),"Saving..."]}):F?"Save Changes":"Add Milestone"})]})]})}),e.jsx(qs,{isOpen:D,onClose:re,onConfirm:le,title:"Delete Milestone",message:`Are you sure you want to delete the milestone "${k==null?void 0:k.label}"? This action cannot be undone.`,loading:h,itemType:"Milestone"})]})}const jt=({employee:t,performanceData:o,setPerformanceData:E})=>{const[b,y]=a.useState(null),[O,j]=a.useState(!0),[F,w]=a.useState(null),S=T=>{try{return!T||!Array.isArray(T)?0:T.reduce((L,P)=>P&&typeof P.revenue=="number"&&P.revenue>=0?L+P.revenue:L,0)}catch(L){return console.error("Error calculating total revenue in ProjectsGoalsTab:",L),0}},[M,h]=a.useState(null),[C,A]=a.useState([]),[n,D]=a.useState([]),[R,k]=a.useState([]);if(a.useEffect(()=>{(async()=>{if(!(t!=null&&t.id)){j(!1);return}j(!0),w(null);try{const L=await G.getEmployeePerformance(t.id);y(L),D(L.projects||[]),k(L.milestones||[]),E&&E(L)}catch(L){console.error("Error fetching employee performance:",L),w("Failed to load performance data")}finally{j(!1)}})()},[t==null?void 0:t.id,E]),!t)return e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"bg-white rounded-lg border p-5 shadow-sm",children:e.jsx("p",{className:"text-gray-500",children:"No employee selected."})})});if(O)return e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"bg-white rounded-lg border p-5 shadow-sm",children:e.jsx("p",{className:"text-gray-500",children:"Loading performance data..."})})});if(!b)return e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"bg-white rounded-lg border p-5 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ke,{className:"w-5 h-5 text-yellow-600"}),e.jsx("p",{className:"text-gray-600",children:"No performance data available."})]})})});const J=T=>{y(T),E&&E(T)};return e.jsxs("div",{className:"space-y-6",children:[F&&e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",children:[F,e.jsxs("button",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",onClick:()=>w(null),children:[e.jsx("span",{className:"sr-only",children:"Dismiss"}),"×"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg border p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"font-medium text-gray-900",children:"Active Projects"})]}),e.jsx("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:n.length})]}),e.jsxs("div",{className:"bg-white rounded-lg border p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"w-5 h-5 text-green-600"}),e.jsx("h3",{className:"font-medium text-gray-900",children:"Total Revenue"})]}),e.jsxs("p",{className:"text-2xl font-bold text-green-600 mt-2",children:["$",((b==null?void 0:b.total_revenue)||S(n)).toLocaleString()]})]}),e.jsxs("div",{className:"bg-white rounded-lg border p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(De,{className:"w-5 h-5 text-purple-600"}),e.jsx("h3",{className:"font-medium text-gray-900",children:"Goals"})]}),e.jsx("p",{className:"text-2xl font-bold text-purple-600 mt-2",children:C.length})]}),e.jsxs("div",{className:"bg-white rounded-lg border p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-5 h-5 text-yellow-600"}),e.jsx("h3",{className:"font-medium text-gray-900",children:"Milestones"})]}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600 mt-2",children:R.length})]})]}),e.jsx(xt,{employeeId:t==null?void 0:t.id,goals:C,setGoals:A}),e.jsx(pt,{employeeId:t==null?void 0:t.id,projects:n,setProjects:D,performanceData:b,setPerformanceData:J}),e.jsx(ft,{employeeId:t==null?void 0:t.id,milestones:R,setMilestones:k,performanceData:b,setPerformanceData:J})]})},vt=({employee:t,performanceData:o,setPerformanceData:E})=>{const[b,y]=a.useState("overview"),[O,j]=a.useState(!1),[F,w]=a.useState(""),[S,M]=a.useState(""),[h,C]=a.useState(""),[A,n]=a.useState(!1),[D,R]=a.useState(""),[k,J]=a.useState([]),[T,L]=a.useState(!1),[P,ae]=a.useState("");a.useEffect(()=>{if(o&&o.self_assessments){const l=o.self_assessments;w(le(l.strengths||[])),M(le(l.growthAreas||[])),C(le(l.goals||[]))}},[o]),a.useEffect(()=>{(async()=>{if(!(!t||!t.id)){L(!0),ae("");try{const m=await G.getEmployeeFeedback(t.id);J(m||[])}catch(m){console.error("Error loading customer feedback:",m),ae("Failed to load customer feedback"),J([])}finally{L(!1)}}})()},[t]);const K=l=>{if(!l||l.length===0)return 0;const m=l.filter(B=>B.status!=="cancelled");if(m.length===0)return 0;const v=m.filter(B=>B.status==="completed"||B.progress===100);return Math.round(v.length/m.length*100)};if(!t)return e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"bg-white rounded-lg border border-yellow-200 p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(he,{className:"w-5 h-5 text-yellow-600"}),e.jsx("p",{className:"text-gray-600",children:"No employee data available."})]})})});if(!o)return e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"bg-white rounded-lg border border-yellow-200 p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(he,{className:"w-5 h-5 text-yellow-600"}),e.jsx("p",{className:"text-gray-600",children:"No performance data available."})]})})});const Y=o.peer_evaluations||{averageScore:0,totalReviews:0,feedback:[]},z=o.self_assessments||{lastUpdated:"",strengths:[],growthAreas:[]},Q=o.performance_score||0,Z=o.total_revenue||0,ie=(o.projects||[]).length,q=K(o.employee_goal||[]),ee=l=>l.split(`
`).map(m=>m.trim()).filter(m=>m.length>0),le=l=>Array.isArray(l)?l.join(`
`):"",re=()=>new Date().toISOString(),V=async()=>{if(!t||!t.id){R("Error: No employee data available");return}n(!0),R("");try{const l=ee(F),m=ee(S),v=ee(h),B={lastUpdated:re(),strengths:l,growthAreas:m,goals:v},$={...o,self_assessments:B};await G.updateEmployeePerformance(t.id,$),E($),R("Self-assessment saved successfully!"),setTimeout(()=>{j(!1),R("")},2e3)}catch(l){console.error("Error saving self-assessment:",l),R("Error saving self-assessment. Please try again.")}finally{n(!1)}},se=l=>l>=90?"green":l>=80?"blue":l>=70?"yellow":"red",x=l=>l>=90?"Excellent":l>=80?"Good":l>=70?"Satisfactory":"Needs Improvement",u=[{key:"overview",label:"Overview",icon:he},{key:"peer",label:"Peer Reviews",icon:ne},{key:"self",label:"Self Assessment",icon:Je},{key:"customer",label:"Customer Feedback",icon:X}];return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg border p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:`w-5 h-5 text-${se(Q)}-600`}),e.jsx("h3",{className:"font-medium text-gray-900",children:"Overall Score"})]}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("p",{className:`text-2xl font-bold text-${se(Q)}-600`,children:[Q,"/100"]}),e.jsx("p",{className:`text-sm text-${se(Q)}-600`,children:x(Q)})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"font-medium text-gray-900",children:"Peer Rating"})]}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[Y.averageScore||0,"/5"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[Y.totalReviews||0," reviews"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"w-5 h-5 text-green-600"}),e.jsx("h3",{className:"font-medium text-gray-900",children:"Revenue Impact"})]}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",Z.toLocaleString()]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[ie," projects"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"w-5 h-5 text-purple-600"}),e.jsx("h3",{className:"font-medium text-gray-900",children:"Goals Met"})]}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[q,"%"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"This quarter"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border shadow-sm",children:[e.jsx("div",{className:"border-b",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:u.map(l=>{const m=l.icon;return e.jsxs("button",{onClick:()=>y(l.key),className:`flex items-center py-4 px-1 border-b-2 font-medium text-sm transition-colors ${b===l.key?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(m,{className:"h-4 w-4 mr-2"}),l.label]},l.key)})})}),e.jsxs("div",{className:"p-6",children:[b==="overview"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Overview"}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Performance Trend"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Communication"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"85%"}})}),e.jsx("span",{className:"text-sm font-medium text-blue-600",children:"85%"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Technical Skills"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"92%"}})}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"92%"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Project Management"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-600 h-2 rounded-full",style:{width:"78%"}})}),e.jsx("span",{className:"text-sm font-medium text-yellow-600",children:"78%"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Leadership"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:"80%"}})}),e.jsx("span",{className:"text-sm font-medium text-purple-600",children:"80%"})]})]})]})]})]})}),b==="peer"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Peer Evaluations"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-5 h-5 text-yellow-500"}),e.jsxs("span",{className:"font-medium",children:[Y.averageScore||0,"/5 Average"]})]})]}),e.jsx("div",{className:"space-y-4",children:Y.feedback&&Y.feedback.length>0?Y.feedback.map((l,m)=>e.jsx("div",{className:"border rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(ne,{className:"w-4 h-4 text-gray-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Anonymous"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Peer Review"})]}),e.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed",children:['"',l,'"']})]})]})},m)):e.jsxs("div",{className:"text-center text-gray-500 py-8",children:[e.jsx(ne,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{children:"No peer evaluations available"})]})})]}),b==="self"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Self Assessment"}),e.jsxs(N,{onClick:()=>j(!O),className:"flex items-center gap-2",children:[e.jsx(ge,{className:"w-4 h-4"}),"Update Assessment"]})]}),O&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Update Your Self Assessment"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Key Strengths"}),e.jsx("textarea",{value:F,onChange:l=>w(l.target.value),placeholder:"List your key strengths and achievements (one per line)...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Areas for Growth"}),e.jsx("textarea",{value:S,onChange:l=>M(l.target.value),placeholder:"Identify areas where you'd like to improve (one per line)...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Goals"}),e.jsx("textarea",{value:h,onChange:l=>C(l.target.value),placeholder:"List your personal goals (one per line)...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:3})]}),D&&e.jsx("div",{className:`text-sm p-2 rounded ${D.includes("Error")?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:D}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx(N,{onClick:V,disabled:A,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white font-medium px-6 py-2.5 rounded-lg transition-all duration-200 shadow-sm hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:A?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving Assessment..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ut,{className:"w-4 h-4 mr-2"}),"Save Assessment"]})}),e.jsxs(N,{variant:"outline",onClick:()=>j(!1),className:"flex-1 border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400 font-medium px-6 py-2.5 rounded-lg transition-all duration-200",children:[e.jsx(Js,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(De,{className:"w-4 h-4 text-green-600"}),"Strengths"]}),z.strengths&&z.strengths.length>0?e.jsx("ul",{className:"space-y-2",children:z.strengths.map((l,m)=>e.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mt-2"}),l]},m))}):e.jsx("p",{className:"text-sm text-gray-500",children:"No strengths recorded"})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(ke,{className:"w-4 h-4 text-blue-600"}),"Growth Areas"]}),z.growthAreas&&z.growthAreas.length>0?e.jsx("ul",{className:"space-y-2",children:z.growthAreas.map((l,m)=>e.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),l]},m))}):e.jsx("p",{className:"text-sm text-gray-500",children:"No growth areas identified"})]})]}),z.lastUpdated&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Last updated: ",z.lastUpdated]})]}),b==="customer"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Customer Feedback"}),k.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-5 h-5 text-yellow-500"}),e.jsxs("span",{className:"font-medium",children:[k.length>0?(k.reduce((l,m)=>l+m.rating,0)/k.length).toFixed(1):0,"/5 Average (",k.length," reviews)"]})]})]}),T?e.jsxs("div",{className:"text-center text-gray-500 py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-3"}),e.jsx("p",{children:"Loading customer feedback..."})]}):P?e.jsx("div",{className:"text-center text-red-500 py-8",children:e.jsx("p",{children:P})}):k.length>0?e.jsx("div",{className:"space-y-4",children:k.map(l=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(ne,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:l.customer_name||"Customer"}),e.jsx("div",{className:"text-sm text-gray-600",children:l.company})]})]}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((m,v)=>e.jsx(X,{className:`w-4 h-4 ${v<l.rating?"text-yellow-500 fill-current":"text-gray-300"}`},v))})]}),l.comment&&e.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed mb-2",children:['"',l.comment,'"']}),e.jsx("span",{className:"text-xs text-gray-400",children:l.created_at?new Date(l.created_at).toLocaleDateString():"Recent"})]},l.id))}):e.jsxs("div",{className:"text-center text-gray-500 py-8",children:[e.jsx(X,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{children:"No customer feedback available"}),e.jsx("p",{className:"text-sm mt-1",children:"Customer feedback will appear here once submitted"})]})]})]})]})]})},Ct=()=>{console.log("ProfilesPage: Component initializing");const{user:t}=rt();console.log("ProfilesPage: User from auth:",t);const o=nt(),[E,b]=a.useState("basic"),[y,O]=a.useState(!0),[j,F]=a.useState(null),[w,S]=a.useState(null),M=[{id:"basic",label:"Basic Information",icon:ne},{id:"projects",label:"Projects & Goals",icon:ne},{id:"performance",label:"Performance & Assessment",icon:ne}];a.useEffect(()=>{console.log("ProfilesPage: useEffect triggered, user?.email:",t==null?void 0:t.email),(async()=>{if(!(t!=null&&t.email)){console.log("ProfilesPage: No user email available, skipping data load");return}try{console.log("ProfilesPage: Starting to load employee data for email:",t.email),O(!0),console.log("ProfilesPage: Calling getEmployeeByEmail with:",t.email);const A=await G.getEmployeeByEmail(t.email);console.log("ProfilesPage: Employee data received:",A),F(A);try{console.log("ProfilesPage: Loading performance data for employee ID:",A.id);const n=await G.getEmployeePerformance(A.id);console.log("ProfilesPage: Performance data received:",n),S(n)}catch(n){console.warn("ProfilesPage: Performance data not available:",n)}}catch(A){console.error("ProfilesPage: Error loading employee data:",A),console.error("ProfilesPage: Error details:",A.message,A.status)}finally{console.log("ProfilesPage: Finished loading data, setting loading to false"),O(!1)}})()},[t==null?void 0:t.email]);const h=()=>{if(console.log("ProfilesPage: renderTabContent called - loading:",y,"employee:",j,"activeTab:",E),y)return console.log("ProfilesPage: Rendering loading state"),e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(me,{className:"h-8 w-8 animate-spin text-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading profile data..."})]});if(!j)return console.log("ProfilesPage: No employee data, rendering not found message"),e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ne,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Employee Profile Not Found"}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["Your email (",t==null?void 0:t.email,") is not associated with an employee record."]}),e.jsx(N,{onClick:()=>o("/dashboard"),children:"Return to Dashboard"})]});switch(console.log("ProfilesPage: Rendering tab content for tab:",E),E){case"basic":return console.log("ProfilesPage: Rendering BasicInformationTab"),e.jsx(ht,{employee:j,setEmployee:F});case"projects":return console.log("ProfilesPage: Rendering ProjectsGoalsTab"),e.jsx(jt,{employee:j,performanceData:w,setPerformanceData:S});case"performance":return console.log("ProfilesPage: Rendering PerformanceAssessmentTab"),e.jsx(vt,{employee:j,performanceData:w,setPerformanceData:S});default:return console.log("ProfilesPage: Unknown tab, returning null"),null}};return e.jsxs("div",{children:[e.jsx(ct,{}),e.jsx(ot,{gradientFrom:"blue-50",gradientVia:"purple-50",gradientTo:"pink-50",children:e.jsx("div",{className:"pt-20 pb-12",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx(ls.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>o("/dashboard"),className:"flex items-center text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[e.jsx(dt,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Profile"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your personal information and professional development"})]})})}),e.jsx(ls.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-8",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:M.map(C=>{const A=C.icon;return e.jsxs("button",{onClick:()=>b(C.id),className:`flex items-center py-2 px-1 border-b-2 font-medium text-sm transition-colors ${E===C.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),C.label]},C.id)})})})}),e.jsx(ls.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4},className:"bg-white rounded-lg shadow-sm",children:h()},E)]})})})]})};export{Ct as default};
